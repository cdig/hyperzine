// Generated by CoffeeScript 2.5.1
// db/assets/asset.coffee
Take(["FileTree", "Paths", "Ports", "Memory", "Read"], function(FileTree, Paths, Ports, Memory, Read) {
  var Asset, arrayPun, first, searchPrep;
  first = function(v) {
    return v != null ? v[0] : void 0;
  };
  arrayPun = function(v) {
    return v || [];
  };
  searchPrep = function(input) {
    return (input || "").toLowerCase().replace(/[^\w\d]/g, " ");
  };
  return Make("Asset", Asset = {
    new: function(path) {
      var asset, id;
      asset = {
        id: id = Read.last(path),
        name: id,
        path: path,
        number: Array.last(id.split(" ")),
        creator: id.split(" ").slice(0, -1).join(" "),
        hash: String.hash(id),
        shot: null,
        newShot: null,
        tags: [],
        files: FileTree.newEmpty(path, "Files"),
        thumbnails: {},
        _loading: false
      };
      asset.search = Asset.load.search(asset);
      return asset;
    },
    rehydrate: function(assetsFolder, asset) {
      // id - included in dehydrated asset
      // name - included in dehydrated asset
      asset.path = Read.path(assetsFolder, asset.id);
      asset.number = Array.last(asset.id.split(" "));
      asset.creator = asset.id.split(" ").slice(0, -1).join(" ");
      asset.hash = String.hash(asset.id);
      // shot - not needed by browser for initial render
      // newShot - not needed by browser for initial render
      // tags - included in dehydrated asset
      // files - included in dehydrated asset
      asset.thumbnails = {};
      // search - included in dehydrated asset
      return asset;
    },
    // This preps an asset for caching to disk. Only keep the modicum of properties needed
    // to quickly get an asset ready for use in the Browser right when Hyperzine launches.
    // Additional asset data will be loaded (more slowly / lazily) once Hyperzine is running.
    // This lives here because this file is the hub of knowledge about what props assets ought to have.
    dehydrate: function(asset) {
      return {
        id: asset.id,
        name: asset.name,
        // path - will be rehydrated on load
        // number - will be rehydrated on load
        // creator - will be rehydrated on load
        // shot - not needed by browser for initial render
        // newShot - not needed by browser for initial render
        tags: asset.tags,
        files: {
          count: asset.files.count
        },
        // thumbnails - not needed by browser for initial render
        search: asset.search
      };
    },
    loadFields: async function(asset) {
      asset.name = (await Asset.load.name(asset));
      asset.shot = (await Asset.load.shot(asset));
      asset.newShot = (await Asset.load.newShot(asset));
      asset.tags = (await Asset.load.tags(asset));
      asset.files = (await Asset.load.files(asset));
      asset.thumbnails = (await Asset.load.thumbnails(asset));
      asset.search = Asset.load.search(asset);
      return asset;
    },
    load: {
      name: async function(asset) {
        var name;
        name = (await Read.async(Paths.names(asset)).then(first));
        return (name || asset.id).trim();
      },
      shot: function(asset) {
        var shot;
        return shot = Read.async(Paths.shots(asset)).then(first);
      },
      newShot: async function(asset) {
        var shot;
        return shot = (await Read.async(Paths.newShots(asset)).then(first));
      },
      tags: async function(asset) {
        var assetTags, i, len, tag;
        assetTags = (await Read.async(Paths.tags(asset)).then(arrayPun));
        for (i = 0, len = assetTags.length; i < len; i++) {
          tag = assetTags[i];
          Memory(`tags.${tag}`, tag);
        }
        return assetTags;
      },
      files: function(asset) {
        return FileTree.newPopulated(asset.path, "Files");
      },
      thumbnails: async function(asset) {
        var thumbs;
        thumbs = (await Read.async(Paths.thumbnails(asset)).then(arrayPun));
        return Array.mapToObject(thumbs, function(thumb) {
          return Paths.thumbnail(asset, thumb);
        });
      },
      search: function(asset) {
        return {
          id: searchPrep(asset.id),
          name: searchPrep(asset.name),
          tags: searchPrep(asset.tags.join(" ")),
          files: Array.unique(FileTree.flat(asset.files, "basename")).map(searchPrep),
          exts: Array.unique(FileTree.flat(asset.files, "ext")).map(searchPrep)
        };
      }
    }
  });
});

// db/assets/load-assets.coffee
Take(["Asset", "DBState", "Log", "Memory", "Read"], function(Asset, DBState, Log, Memory, Read) {
  var LoadAssets, load, requested, restart, running;
  // LoadAssets does a ton of long-running async stuff, so if the dataFolder
  // changes while it's running, we'll be asked to start over again.
  running = false;
  requested = false;
  restart = function() {
    running = false;
    requested = false;
    Log("Restarting LoadAssets", {
      background: "#f80",
      color: "black"
    });
    return LoadAssets();
  };
  Make.async("LoadAssets", LoadAssets = function() {
    if (!running) {
      running = true;
      return requestAnimationFrame(load);
    } else {
      return requested = true;
    }
  });
  return load = async function() {
    var assets, assetsFolder, created, deltaload, fastload;
    Log("LoadAssets");
    assets = {};
    assetsFolder = Memory("assetsFolder");
    // Mark that we want to be in a "read only" mode, so that things that would
    // normally happen when assets are changed might not happen, since *lots*
    // of assets are about to change.
    Memory("Read Only", true);
    // This ensures we have an assets object in Memory, even if the library is brand new
    // and there are no assets in it yet (in which case none of the below would end up
    // committing to Memory, and Memory("assets") would be undefined)
    Memory.default("assets", assets);
    Log.time("Rehydrating DBState Assets", function() {
      var asset, id, needSave;
      // To start, load all asset data cached from the last run.
      // This should be everything needed to get the Browser minimally ready for read-only use
      // (albeit with stale data).
      assets = DBState("assets");
      needSave = false;
      for (id in assets) {
        asset = assets[id];
        Asset.rehydrate(assetsFolder, asset);
        asset._loading = true;
        needSave = true;
      }
      if (needSave) {
        return Memory("assets", assets);
      }
    });
    // Now that we've got the cached asset data loaded, we need to do 2 things with the real assets folder:
    // 1. Fast-load assets created since our last run.
    // 2. Clear assets deleted since our last run.
    // Once we have these things taken care of, the Browser will be in a fully correct state, though still read-only.
    created = {}; // Track the assets that are new, so we can skip reloading them down below.
    
    // This should all take around 3s on a first run, and only a few ms on subsequent runs.
    await Log.time.async("Fast-Loading New Assets", fastload = async function() {
      var asset, assetFolderName, assetId, confirmed, i, j, len, len1, needSave, p, promises, ref;
      confirmed = {}; // Track the real assets we've seen, so we can clear any cached assets that were deleted.
      promises = [];
      needSave = false;
      ref = Read(assetsFolder);
      for (i = 0, len = ref.length; i < len; i++) {
        assetFolderName = ref[i];
        // First, build a new basic asset from the asset folder's name and path.
        asset = Asset.new(Read.path(assetsFolder, assetFolderName));
        // If this is a new asset, we can load the rest of its data and save it.
        if (assets[asset.id] == null) {
          created[asset.id] = true;
          assets[asset.id] = asset;
          promises.push(Asset.loadFields(asset));
          needSave = true;
        }
        // Mark that we've seen this asset.
        confirmed[asset.id] = true;
      }
      for (j = 0, len1 = promises.length; j < len1; j++) {
        p = promises[j];
        await p;
      }
// 2. Clear any assets we didn't see during our loop over the assets folder.
      for (assetId in assets) {
        if (!(!confirmed[assetId])) {
          continue;
        }
        delete assets[assetId];
        needSave = true;
      }
      if (needSave) {
        return Memory("assets", assets);
      }
    });
    if (requested) {
      return restart();
    }
    // Now that we're done loading all the new assets, we can go back and re-load all the other
    // assets, to catch any changes we might have missed since Hyperzine last ran, and to fill-in
    // any of the details that weren't included in the cache.
    await Log.time.async("Reloading Not-New Assets", deltaload = async function() {
      var asset, i, id, len, needSave, p, promise, promises;
      needSave = false;
      promises = (function() {
        var results;
        results = [];
        for (id in assets) {
          asset = assets[id];
          if (created[id] != null) {
            // Skip any assets that we already loaded, since they're already presumably up-to-date
            // (and watch-assets.coffee will catch any changes that happen while we're running)
            continue;
          }
          needSave = true;
          results.push(promise = Asset.loadFields(asset));
        }
        return results;
      })();
      for (i = 0, len = promises.length; i < len; i++) {
        p = promises[i];
        asset = (await p);
        asset._loading = false;
      }
      if (needSave) {
        // Saving this because it seems to be faster than the above in some cases.
        // We can test it more later.
        // load = (k)->
        //   new Promise loadPromise = (resolve)->
        //     requestAnimationFrame loadRaf = ()->
        //       await Log.time.async "Build #{k}", loadLog = ()->
        //         for id, asset of assets when not created[id]?
        //           asset[k] = Asset.load[k] asset
        //         for id, asset of assets when not created[id]?
        //           asset[k] = await asset[k]
        //         null
        //       resolve()

        // for k in ["name", "shot", "tags", "files"]
        //   await load k

        // Log.time "Build Search", searchlog = ()->
        //   for id, asset of assets when not created[id]?
        //     asset.search = Asset.load.search asset
        //     needSave = true
        return Memory("assets", assets);
      }
    });
    if (requested) {
      return restart();
    }
    // Finally, save a simplified version of assets to the disk, to speed future launch times.
    Log.time("Saving Fast-Load Asset Cache", function() {
      return DBState("assets", Object.mapValues(assets, Asset.dehydrate));
    });
    if (requested) {
      // Done
      return restart();
    }
    running = false;
    return Memory("Read Only", false);
  };
});

// db/coffee/config.coffee
// Config
// This system manages user preferences and related data. It uses Memory to share this data with other systems.
// This file is also where all the default values for user preferences are listed.
Take(["ADSR", "Env", "Log", "Memory", "Read", "Write"], function(ADSR, Env, Log, Memory, Read, Write) {
  var applyConfig, configData, save, setupSubscribers, updateAndSave;
  // This lists all the keys we'll persist in the config file, with their default values
  configData = {
    assetThumbnailSize: 0.5,
    browserThumbnailSize: 1,
    dataFolder: Env.defaultDataFolder,
    localName: Env.computerName,
    setupDone: false
  };
  applyConfig = function(data) {
    var didSet, k, results, v;
    results = [];
    for (k in data) {
      v = data[k];
      didSet = Memory.default(k, v);
      if (!didSet) {
        Log.err(`Memory(${k}) was already defined before Config initialized it`);
      }
      results.push(configData[k] = v);
    }
    return results;
  };
  setupSubscribers = function() {
    var k, results;
    results = [];
    for (k in configData) {
      results.push(Memory.subscribe(k, false, updateAndSave(k)));
    }
    return results;
  };
  updateAndSave = function(k) {
    return function(v) {
      if (configData[k] !== v) {
        configData[k] = v;
        return save();
      }
    };
  };
  save = ADSR(0, 2000, function() {
    return Write.sync.json(Env.configPath, configData, {
      quiet: true
    });
  });
  return Make("Config", function() {
    return Log.time("Loading Config", function() {
      var configFile, loadedData;
      configFile = Read.file(Env.configPath);
      if (configFile == null) {
        applyConfig(configData); // Use the default config data
        setupSubscribers();
        return false; // No config file — need to run Setup Assistant
      }
      try {
        loadedData = JSON.parse(configFile);
        applyConfig(loadedData);
        setupSubscribers();
        // Loaded successfully — return true to launch normally, or false to run Setup Assistant
        return Boolean(configData.setupDone);
      } catch (error) {
        return null; // Fatal error
      }
    });
  });
});


// db/coffee/db-state.coffee
// This file manages data that needs to be persisted to the local filesystem, just for the DB process.
// The typical use of this system is to cache data that'll speed up launching the app.
// DBState is its own data store. It does not put its data into State or Memory.
Take(["ADSR", "Env", "Log", "Read", "Write"], function(ADSR, Env, Log, Read, Write) {
  var DBState, save, state;
  // This lists all the keys we'll persist in the DBState file, with their default values
  state = {
    assets: {}
  };
  save = ADSR(20, 2000, function() {
    return Log.time("Saving DBState", function() {
      // TODO: This should totally be async
      return Write.sync.json(Env.dbStatePath, state, {
        quiet: true
      });
    });
  });
  Make.async("DBState", DBState = function(k, v) {
    if (state[k] == null) {
      throw Error(`Unknown DBState key: ${k}`);
    }
    if (v !== void 0) {
      if (v != null) {
        state[k] = v;
      } else {
        delete state[k];
      }
      save();
    }
    return state[k];
  });
  return DBState.init = function() {
    return Log.time("Loading DBState", function() {
      var data, json, k, results, v;
      try {
        json = Read.file(Env.dbStatePath);
        data = JSON.parse(json);
        results = [];
        for (k in data) {
          v = data[k];
          // Only accept keys we explicitly list in the defaults.
          // This lets us drop obsolete values.
          if (state[k] != null) {
            results.push(state[k] = v);
          } else {
            results.push(void 0);
          }
        }
        return results;
      } catch (error) {}
    });
  };
});

// db/coffee/ports.coffee
Take(["IPC", "Log"], function(IPC, Log) {
  var Ports, listeners, ports;
  ports = {};
  listeners = {};
  IPC.on("port", function(e, {id}) {
    var port;
    port = ports[id] = e.ports[0];
    return port.onmessage = async function({
        data: [requestID, msg, ...args]
      }) {
      var fn, v;
      if (fn = listeners[msg]) {
        v = (await fn(...args));
        return port.postMessage(["return", requestID, v]);
      } else {
        return Log.err(`Missing DB port handler: ${msg}`);
      }
    };
  });
  // This is for communication from Main to DB in a way that pretends to be a port.
  // Useful especially for libs that use the DB interface, like Log.
  IPC.on("mainPort", function(e, msg, ...args) {
    var fn;
    if (fn = listeners[msg]) {
      return fn(...args);
    } else {
      // No return value (yet — implement this if we need it)
      return Log.err(`Missing DB mainPort handler: ${msg}`);
    }
  });
  return Make("Ports", Ports = {
    on: function(msg, cb) {
      if (listeners[msg] != null) {
        throw Error(`DB Port message ${msg} already has a listener`);
      }
      return listeners[msg] = cb;
    },
    send: function(msg, ...args) {
      var id, port;
      for (id in ports) {
        port = ports[id];
        port.postMessage([msg, ...args]);
      }
      return null;
    }
  });
});

// close: (id)->
//   ports[id].close()
//   delete ports[id]

// db/coffee/printer.coffee
Take(["DOOM", "Ports", "DOMContentLoaded"], function(DOOM, Ports) {
  var Printer, maxLogLines, printer;
  maxLogLines = 5000;
  printer = document.querySelector("log-printer");
  Printer = function(msg, attrs, time) {
    var elm;
    time = (time || performance.now()).toFixed(0).padStart(5);
    console.log(time, msg);
    elm = DOOM.create("div", null, {
      textContent: (time / 1000).toFixed(3) + "  " + msg
    });
    if (attrs != null) {
      DOOM(elm, attrs);
    }
    DOOM.prepend(printer, elm);
    while (printer.childElementCount > maxLogLines) {
      DOOM.remove(printer.lastChild);
    }
    return msg;
  };
  Ports.on("printer", Printer);
  return Make("Printer", Printer);
});

// db/coffee/special-tags.coffee
Take(["Memory"], function(Memory) {
  var specialTags;
  specialTags = {"Archived": "Archived"};
  Memory.merge("tags", specialTags);
  return Memory("specialTags", specialTags);
});

// db/db.coffee
Take(["Config", "DBState", "IPC", "Log"], function(Config, DBState, IPC, Log) {
  var config;
  // Let the Main process know that the DB is open and it's safe to begin logging
  IPC.send("db-open");
  // The DB process stores a cache of data in a file, to help it speed up launching. We load that first.
  DBState.init();
  // Next, we load the config file — preference data created by the Setup Assistant and through general user interaction.
  config = Config();
  // Depending on how the config load went, we can continue to launch the main app, or drop
  // the user into the Setup Assistant.
  switch (config) {
    case true:
      return IPC.send(Log("config-ready")); // Setup Assistant was previously completed, so launch the main app.
    case false:
      return IPC.send(Log("open-setup-assistant")); // Setup Assistant has not been completed, so launch it.
    default:
      return IPC.send("fatal", "Hyperzine failed to load your saved preferences. To avoid damaging the preferences file, Hyperzine will now close. Please ask Ivan for help.");
  }
});

// At this point we're done initializing. Here's what happens next:
// * Either the config file or the Setup Assistant will specify a data folder.
// * The assets-folder.coffee subscription will make sure we have an Assets folder in the data folder,
//   and then call LoadAssets() to load all our asset data into memory.
// * Concurrently with the above, the Main process will launch a Browser window.
// * As asset data comes into existence, the Browser window will populate itself.

// db/ports-handlers/asset-handlers.coffee
Take(["Asset", "FileTree", "IPC", "Log", "Memory", "Paths", "Ports", "Read", "Write"], function(Asset, FileTree, IPC, Log, Memory, Paths, Ports, Read, Write) {
  Ports.on("New Asset", function() {
    var assetsFolder, creator, id, number, path;
    assetsFolder = Memory("assetsFolder");
    number = Memory("nextAssetNumber");
    creator = Memory("localName");
    id = creator + " " + number;
    path = Read.path(assetsFolder, id);
    Memory(`assets.${id}`, Asset.new(path)); // Update Memory
    Write.sync.mkdir(path); // Update Disk
    IPC.send("open-asset", id);
    return id;
  });
  Ports.on("Delete Asset", function(assetId) {
    var asset;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    Memory(`assets.${assetId}`, null); // Update Memory
    return Write.sync.rm(asset.path); // Update Disk
  });
  Ports.on("Rename Asset", function(assetId, v) {
    var asset;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    Memory(`assets.${assetId}.name`, v); // Update Memory
    return Write.sync.array(Paths.names(asset), [v]); // Update Disk
  });
  Ports.on("Add Tag", function(assetId, tag) {
    var asset;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    Memory.update(`assets.${assetId}.tags`, function(tags) { // Update Memory
      return Array.sortAlphabetic(tags.concat(tag));
    });
    return Write.sync.mkdir(Paths.tag(asset, tag)); // Update Disk
  });
  Ports.on("Remove Tag", function(assetId, tag) {
    var asset;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    Memory.mutate(`assets.${assetId}.tags`, function(tags) { // Update Memory
      return Array.pull(tags, tag);
    });
    return Write.sync.rm(Paths.tag(asset, tag)); // Update Disk
  });
  Ports.on("Add Files", function(assetId, newFiles) {
    var asset, assetFilesPath, file, i, len;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    assetFilesPath = Paths.files(asset);
    Write.sync.mkdir(assetFilesPath);
    for (i = 0, len = newFiles.length; i < len; i++) {
      file = newFiles[i];
      Write.async.copyInto(file, assetFilesPath);
    }
    return null;
  });
  Ports.on("Delete File", function(assetId, relpath) {
    var asset, file;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    if (!(file = FileTree.find(asset.files, "relpath", relpath))) {
      return;
    }
    // Updating Memory would be complex, so we'll just let watch-assets catch this one
    return Write.sync.rm(file.path); // Update Disk
  });
  Ports.on("Rename File", function(assetId, relpath, v) {
    var asset, file;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    if (!(file = FileTree.find(asset.files, "relpath", relpath))) {
      return;
    }
    // Updating Memory would be complex, so we'll just let watch-assets catch this one
    return Write.sync.rename(file.path, v); // Update Disk
  });
  return Ports.on("Set Thumbnail", function(assetId, relpath) {
    var asset, file, newShotsFolder;
    if (!(asset = Memory(`assets.${assetId}`))) {
      return;
    }
    if (!(file = FileTree.find(asset.files, "relpath", relpath))) {
      return;
    }
    if (file.name === asset.newShot) {
      return;
    }
    // We'll just let watch-assets handle updating newShot in Memory
    // Update Disk
    newShotsFolder = Paths.newShots(asset);
    Write.sync.rm(newShotsFolder);
    Write.sync.mkdir(newShotsFolder);
    return Write.sync.copyFile(file.path, Read.path(newShotsFolder, Read.last(file.path)));
  });
});

// db/ports-handlers/create-file-thumbnail.coffee
Take(["Log", "Memory", "Ports", "Thumbnail"], function(Log, Memory, Ports, Thumbnail) {
  return Ports.on("create-file-thumbnail", function(assetId, path, size, destName) {
    var asset;
    if (asset = Memory(`assets.${assetId}`)) {
      return Thumbnail(asset, path, size, destName);
    }
  });
});

// db/subscriptions/assets-folder.coffee
Take(["LoadAssets", "Log", "Memory", "Read", "Write"], function(LoadAssets, Log, Memory, Read, Write) {
  return Memory.subscribe("dataFolder", true, function(dataFolder) {
    var assetsFolder;
    if (dataFolder == null) {
      return;
    }
    assetsFolder = Read.path(dataFolder, "Assets");
    if (Memory.change("assetsFolder", assetsFolder)) {
      Log(`assetsFolder: ${assetsFolder}`);
      Write.sync.mkdir(assetsFolder);
      return LoadAssets();
    }
  });
});

// db/subscriptions/next-asset-number.coffee
Take(["Memory"], function(Memory) {
  var update;
  update = function() {
    var asset, assetId, assets, highestNumber, localName;
    assets = Memory("assets");
    localName = Memory("localName");
    if (!((localName != null) && (assets != null))) {
      return;
    }
    highestNumber = 0;
    for (assetId in assets) {
      asset = assets[assetId];
      if (asset.creator.toLowerCase() === localName.toLowerCase()) {
        highestNumber = Math.max(highestNumber, asset.number);
      }
    }
    Memory("nextAssetNumber", highestNumber + 1);
    return null;
  };
  Memory.subscribe("localName", true, update);
  Memory.subscribe("assets", true, update);
  return update();
});

// db/subscriptions/save-asset-cache.coffee
Take(["Asset", "ADSR", "DBState", "Log", "Memory"], function(Asset, ADSR, DBState, Log, Memory) {
  return Memory.subscribe("assets", false, ADSR(300, 10000, function(assets) {
    if (assets == null) {
      return;
    }
    if (Memory("Read Only")) {
      return;
    }
    if (Memory("Pause Caching")) {
      return;
    }
    return Log.time("Updating Fast-Load Asset Cached", function() {
      return DBState("assets", Object.mapValues(assets, Asset.dehydrate));
    });
  }));
});

// db/subscriptions/watch-assets.coffee
Take(["Asset", "ADSR", "Job", "Log", "Memory", "Read", "Thumbnails"], function(Asset, ADSR, Job, Log, Memory, Read, Thumbnails) {
  var change, setup, touchedAssets, update, validFileName, watcher;
  watcher = null;
  validFileName = function(v) {
    if (!((v != null ? v.length : void 0) > 0)) {
      return false;
    }
    if (v.indexOf(".") === 0) { // Exclude dotfiles
      return false;
    }
    return true; // Everything else is good
  };
  touchedAssets = {};
  update = ADSR(100, 1000, function() {
    var assetId;
    for (assetId in touchedAssets) {
      Job(50, "Watched Asset Reload", assetId);
    }
    return touchedAssets = {};
  });
  Job.handler("Watched Asset Reload", async function(assetId) {
    var asset, assetsFolder, path, prevNewShot;
    assetsFolder = Memory("assetsFolder");
    path = Read.path(assetsFolder, assetId);
    if ((await Read.isFolder(path))) {
      asset = Memory.clone(`assets.${assetId}`);
      if (asset == null) {
        asset = Asset.new(path);
      }
      Log(`Reloading Asset: ${assetId}`, {
        color: "hsl(333, 50%, 50%)"
      });
      prevNewShot = asset.newShot;
      await Asset.loadFields(asset);
      if (asset.newShot !== prevNewShot) {
        await Thumbnails.populate(asset); // This could create an infinite loop if it has bugs, since it writes files that watcher picks up on
      }
    } else {
      asset = null;
    }
    return Memory(`assets.${assetId}`, asset);
  });
  change = function(eventType, fullPath) {
    var assetId, assetsFolder, pathWithinAssetsFolder;
    assetsFolder = Memory("assetsFolder");
    pathWithinAssetsFolder = fullPath.replace(assetsFolder, "");
    assetId = Array.first(Read.split(pathWithinAssetsFolder));
    if (!validFileName(assetId)) {
      return;
    }
    if (!validFileName(Array.last(Read.split(fullPath)))) {
      return;
    }
    // Log "Disk Watcher: #{pathWithinAssetsFolder}", color: "hsl(333, 50%, 50%)"
    // We'll just reload the whole asset. This is simpler than trying to track exactly which paths have changed,
    // and the performance overhead will be effectively invisible (likely less than 1ms even on giant assets).
    touchedAssets[assetId] = true;
    return update();
  };
  setup = function() {
    var assetsFolder, paused;
    if (watcher != null) {
      watcher.close();
    }
    touchedAssets = {}; // Clear any changes queued up for the debounced update, since they'll no longer resolve properly
    assetsFolder = Memory("assetsFolder");
    paused = Memory("Pause Watching");
    if ((assetsFolder != null) && !paused) {
      return watcher = Read.watch(assetsFolder, {
        recursive: true,
        persistent: false
      }, change);
    }
  };
  Memory.subscribe("Pause Watching", false, setup);
  return Memory.subscribe("assetsFolder", true, setup);
});

// db/subscriptions/write-assets.coffee

// Having a system that automatically responds to changes in an asset in memory
// by writing them to disk is risky. We could end up in situations where watch-assets
// notices some changes, triggers a reload, then the reload happens and that changes the asset in memory,
// then write-assets is triggered, then it checks the disk and in the time between the reload
// and write-assets running, the disk has changed again (eg: due to dropbox), so write-assets ends up
// clobbering dropbox. That's bad.

// We should probably make it so that anything that changes some data inside an asset needs to tell
// both memory and the disk to update. We update memory so that the GUI can update right away. We also
// manually tell the disk to update (via some Ports call, of course) instead of relying on something like
// write-assets, so that we have a sense of provenance for changes, and so that we err on the side of
// missing writes to the disk (which is less bad) instead of writing things we didn't mean to write
// (which is worse, because it can cause inadvertant deletions).

// Also, the disk updates should be *sync* so that if there's a bunch of changes that need to be
// persisted individually, we don't end up interleaving the writes and watch-assets reads.
// By doing a bunch of writes in sync, that's basically like putting the writes inside a transaction.
// *If* we notice performance issues, we can come up with something more elaborate to make asnyc writing
// work (eg: by pausing watch-assets or something)

// Take ["ADSR", "Log", "Memory", "Read", "Write"], (ADSR, Log, Memory, Read, Write)->

//   enabled = false
//   changed = {}
//   permittedKeys = name: "Name", shot: "Shot", tags: "Tags"#, files: "Files"

//   update = ADSR 1, 1, ()->
//     for id, changes of changed
//       if changes? then updateAsset id, changes else deleteAsset id
//     changed = {}

//   deleteAsset = (id)->
//     Log "Deleting asset?"
//     return unless id?.length > 0
//     assetsFolder = Memory "assetsFolder"
//     path = Read.path assetsFolder, id
//     if Read(path)?
//       Write.sync.rm path

//   updateAsset = (id, changes)->
//     for k, v of changes
//       folder = permittedKeys[k]
//       continue unless folder # The change was an asset property that doesn't get saved
//       if v?
//         updateProperty id, folder, v
//       else
//         deleteProperty id, folder
//     null

//   updateProperty = (id, folder, v)->
//     v = [v] unless v instanceof Array
//     assetsFolder = Memory "assetsFolder"
//     path = Read.path assetsFolder, id, folder
//     Write.sync.array path, v

//   deleteProperty = (id, folder)->
//     assetsFolder = Memory "assetsFolder"
//     path = Read.path assetsFolder, id, folder
//     current = Read path
//     return unless current?.length > 0
//     path = Read.path path, current[0] if current.length is 1
//     Write.sync.rm path

//   Memory.subscribe "assets", false, (assets, changedAssets)->
//     return unless enabled # Persisting changes will be paused during big loads
//     console.log "WRITING", Object.clone changedAssets
//     changed = Object.merge changed, changedAssets
//     update()

//   Make "WriteAssets", WriteAssets =
//     enable: (enable = true)-> enabled = enable

// db/thumbnails/job-rebuild-asset-thumbnails.coffee
Take(["Job", "Log", "Paths", "Read", "Thumbnail", "Write"], function(Job, Log, Paths, Read, Thumbnail, Write) {
  var captureNewShot;
  Job.handler("Rebuild Asset Thumbnails", async function(asset, overwrite = false) {
    var file, has128, has512, i, len, msg, path, ref, ref1;
    msg = `Thumbnails for ${asset.id} —`;
    if (!overwrite) {
      has128 = Read.sync.exists(Paths.thumbnail(asset, "128.jpg"));
      has512 = Read.sync.exists(Paths.thumbnail(asset, "512.jpg"));
      if (has128 && has512) {
        Log(`${msg} already exist :)`, {
          color: "hsl(330, 55%, 50%)" // violet
        });
        return;
      }
    }
    if (asset.newShot != null) {
      path = Paths.newShot(asset);
      has128 = (await Thumbnail(asset, path, 128));
      has512 = (await Thumbnail(asset, path, 512));
      Log(`${msg} using new shot <3`, "hsl(220, 50%, 50%)"); // blue
      return;
    }
    // No specified shot, attempt to use a random file.
    if (((ref = asset.files) != null ? ref.count : void 0) > 0) {
      ref1 = asset.files.children;
      for (i = 0, len = ref1.length; i < len; i++) {
        file = ref1[i];
        Log(`${msg} trying files... ${file.name}`);
        if ((await Thumbnail(asset, file.path, 128))) {
          if ((await Thumbnail(asset, file.path, 512))) {
            Log(`${msg} used file ${file.name} :}`, {
              color: "hsl(180, 100%, 29%)" // teal
            });
            return captureNewShot(asset, file.path); // success
          }
        }
      }
    }
    Log(`${msg} no dice :(`, {
      color: "hsl(25, 100%, 59%)" // orange
    });
    return null;
  });
  return captureNewShot = function(asset, shotFile) {
    var file, i, len, newShotsFolder, ref;
    // We want to show which file was used to generate the thumbnail.
    // The simplest thing is just to make a copy of the source file and save it.
    // That way, we don't need to worry about what happens if the source file is renamed
    // or deleted or whatever — we have our copy of the shot, and the user can see what
    // file was used (because the filename will be there too — good enough) and if the
    // user deleted that original file and wants the shot to change, they can just change
    // the shot, good enough.
    newShotsFolder = Paths.newShots(asset);
    Write.sync.mkdir(newShotsFolder);
    ref = Read(newShotsFolder);
    for (i = 0, len = ref.length; i < len; i++) {
      file = ref[i];
      Write.sync.rm(file);
    }
    return Write.sync.copyFile(shotFile, Read.path(newShotsFolder, Read.last(shotFile)));
  };
});

// db/thumbnails/thumbnail.coffee
Take(["Env", "IPC", "Job", "Log", "Memory", "Paths", "Read", "Write"], function(Env, IPC, Job, Log, Memory, Paths, Read, Write) {
  var Thumbnail, childProcess, errCount, handleErr, importantErrorMessages, nativeImage, promises, unimportantErrorMessages;
  promises = {};
  Make.async("Thumbnail", Thumbnail = function(asset, sourcePath, size, destName) {
    var assetsFolder, destPath, ext, handler, subpath;
    ext = Array.last(sourcePath.split(".")).toLowerCase();
    // We're going to be asked to preview a few known formats pretty often,
    // and we don't yet have any way to preview them. The caller should use an icon instead.
    if (Paths.ext.icon[ext]) {
      return;
    }
    assetsFolder = Memory("assetsFolder");
    subpath = sourcePath.replace(assetsFolder, "");
    if (destName == null) {
      destName = `${size}.jpg`;
    }
    destPath = Paths.thumbnail(asset, destName);
    Write.sync.mkdir(Paths.thumbnails(asset));
    handler = Env.isMac && (Paths.ext.sips[ext] != null) ? "SipsThumbnail" : "NativeThumbnail";
    return Job(2, handler, sourcePath, destPath, size, subpath);
  });
  childProcess = null;
  Job.handler("SipsThumbnail", function(source, dest, size, subpath) {
    return new Promise(function(resolve) {
      if (childProcess == null) {
        childProcess = require("child_process");
      }
      return childProcess.exec(`sips -s format jpeg -s formatOptions 91 -Z ${size} \"${source}\" --out \"${dest}\"`, function(err) {
        if (err != null) {
          handleErr(subpath, err);
          return resolve(null);
        } else {
          return resolve(dest);
        }
      });
    });
  });
  nativeImage = null;
  Job.handler("NativeThumbnail", function(source, dest, size, subpath) {
    return new Promise(async function(resolve) {
      var buf, err, image;
      try {
        if (nativeImage == null) {
          nativeImage = require("electron").nativeImage;
        }
        image = (await nativeImage.createThumbnailFromPath(source, {
          width: size,
          height: size
        }));
        buf = image.toJPEG(91);
        Write.sync.file(dest, buf); // TODO: Should be async
        return resolve(dest);
      } catch (error) {
        err = error;
        handleErr(subpath, err);
        return resolve(null);
      }
    });
  });
  errCount = 0;
  // Add messages to this list if we want to alert the user about them.
  // If one of these messages occurs, that usually means either the file is corrupt
  // (so the user ought to investiage and fix the file if possible), or the file
  // is in a format that we can't generate a thumbnail for (in which case the file
  // extension should be added to Paths.ext.icon)
  importantErrorMessages = ["Unable to render destination image", "Cannot extract image from file", "Unable to retrieve thumbnail preview image for the given path"];
  unimportantErrorMessages = [];
  // Add messages to this list if we don't want to bother alerting the user about them
  return handleErr = function(subpath, err) {
    var alert, i, j, len, len1, message;
    Log.err(`Error generating thumbnail for ${subpath}:\n ${err.toString()}`);
    for (i = 0, len = unimportantErrorMessages.length; i < len; i++) {
      message = unimportantErrorMessages[i];
      if (-1 !== err.message.toLowerCase().indexOf(message.toLowerCase())) {
        return;
      }
    }
    if (++errCount > 3) {
      return;
    }
    for (j = 0, len1 = importantErrorMessages.length; j < len1; j++) {
      message = importantErrorMessages[j];
      if (-1 !== err.message.toLowerCase().indexOf(message.toLowerCase())) {
        alert = message;
        break;
      }
    }
    if (alert == null) {
      alert = err.message;
    }
    IPC.send("alert", {
      message: `An error occurred while generating a thumbnail. Please capture a screenshot of this popup and send it to Ivan. \n\n The source file: ${subpath} \n\n The error: ${alert}`
    });
    if (errCount === 3) {
      return IPC.send("alert", {
        message: "It seems like this is happening a lot, so we won't tell you about any more failures. To see them all, open the Debug Log."
      });
    }
  };
});

// db/thumbnails/thumbnails.coffee
Take(["FileTree", "Job", "Log", "Memory", "Paths", "Read", "Thumbnail", "Write"], function(FileTree, Job, Log, Memory, Paths, Read, Thumbnail, Write) {
  var Thumbnails;
  return Make("Thumbnails", Thumbnails = {
    populate: async function(asset) {
      var existing, file, i, len, needed, promises, ref, thumb, toCreate, toDelete;
      if (asset == null) {
        return;
      }
      await Job(1, "Rebuild Asset Thumbnails", asset, true);
      needed = {};
      ref = FileTree.flat(asset.files);
      for (i = 0, len = ref.length; i < len; i++) {
        file = ref[i];
        thumb = Paths.thumbnailName(file, 256);
        needed[thumb] = file;
      }
      if (existing = Read(Paths.thumbnails(asset))) {
        existing = Array.mapToObject(existing);
        delete existing["128.jpg"];
        delete existing["512.jpg"];
        toCreate = Object.subtractKeys(existing, needed);
        toDelete = Object.subtractKeys(needed, existing);
      } else {
        toCreate = needed;
        toDelete = {};
      }
      for (thumb in toDelete) {
        Write.sync.rm(Paths.thumbnail(asset, thumb));
      }
      promises = (function() {
        var results;
        results = [];
        for (thumb in toCreate) {
          file = toCreate[thumb];
          if ((file.ext != null) && !Paths.ext.icon[file.ext]) {
            results.push(Thumbnail(asset, file.path, 256, thumb));
          }
        }
        return results;
      })();
      return (await Promise.all(promises));
    }
  });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGIuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbInRlbXAvZGIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFd0I7QUFDeEIsSUFBQSxDQUFLLENBQUMsVUFBRCxFQUFhLE9BQWIsRUFBc0IsT0FBdEIsRUFBK0IsUUFBL0IsRUFBeUMsTUFBekMsQ0FBTCxFQUF1RCxRQUFBLENBQUMsUUFBRCxFQUFXLEtBQVgsRUFBa0IsS0FBbEIsRUFBeUIsTUFBekIsRUFBaUMsSUFBakMsQ0FBQTtBQUV2RCxNQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBO0VBQUUsS0FBQSxHQUFRLFFBQUEsQ0FBQyxDQUFELENBQUE7dUJBQU0sQ0FBQyxDQUFFLENBQUY7RUFBUDtFQUNSLFFBQUEsR0FBVyxRQUFBLENBQUMsQ0FBRCxDQUFBO1dBQU0sQ0FBQSxJQUFLO0VBQVg7RUFDWCxVQUFBLEdBQWEsUUFBQSxDQUFDLEtBQUQsQ0FBQTtXQUFVLENBQUMsS0FBQSxJQUFTLEVBQVYsQ0FBYSxDQUFDLFdBQWQsQ0FBQSxDQUEyQixDQUFDLE9BQTVCLENBQW9DLFVBQXBDLEVBQWdELEdBQWhEO0VBQVY7U0FFYixJQUFBLENBQUssT0FBTCxFQUFjLEtBQUEsR0FDWjtJQUFBLEdBQUEsRUFBSyxRQUFBLENBQUMsSUFBRCxDQUFBO0FBQ1QsVUFBQSxLQUFBLEVBQUE7TUFBTSxLQUFBLEdBQ0U7UUFBQSxFQUFBLEVBQUksRUFBQSxHQUFLLElBQUksQ0FBQyxJQUFMLENBQVUsSUFBVixDQUFUO1FBQ0EsSUFBQSxFQUFNLEVBRE47UUFFQSxJQUFBLEVBQU0sSUFGTjtRQUdBLE1BQUEsRUFBUSxLQUFLLENBQUMsSUFBTixDQUFXLEVBQUUsQ0FBQyxLQUFILENBQVMsR0FBVCxDQUFYLENBSFI7UUFJQSxPQUFBLEVBQVMsRUFBRSxDQUFDLEtBQUgsQ0FBUyxHQUFULENBQWEsYUFBUSxDQUFDLElBQXRCLENBQTJCLEdBQTNCLENBSlQ7UUFLQSxJQUFBLEVBQU0s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QixFQUF1QixLQUF2QixDQUFkO01BREY7TUFHQSxRQUFBOztBQUFXO1FBQUEsS0FBQSxpQkFBQTs7Y0FBaUMsa0JBQUEsSUFBYyxDQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFOO3lCQUMxRSxTQUFBLENBQVUsS0FBVixFQUFpQixJQUFJLENBQUMsSUFBdEIsRUFBNEIsR0FBNUIsRUFBaUMsS0FBakM7O1FBRFMsQ0FBQTs7O2FBR1gsQ0FBQSxNQUFNLE9BQU8sQ0FBQyxHQUFSLENBQVksUUFBWixDQUFOO0lBMUJRO0VBQVYsQ0FERjtBQUZnRixDQUFsRiIsInNvdXJjZXNDb250ZW50IjpbIlxuXG4jIGRiL2Fzc2V0cy9hc3NldC5jb2ZmZWVcblRha2UgW1wiRmlsZVRyZWVcIiwgXCJQYXRoc1wiLCBcIlBvcnRzXCIsIFwiTWVtb3J5XCIsIFwiUmVhZFwiXSwgKEZpbGVUcmVlLCBQYXRocywgUG9ydHMsIE1lbW9yeSwgUmVhZCktPlxuXG4gIGZpcnN0ID0gKHYpLT4gdj9bMF1cbiAgYXJyYXlQdW4gPSAodiktPiB2IG9yIFtdXG4gIHNlYXJjaFByZXAgPSAoaW5wdXQpLT4gKGlucHV0IG9yIFwiXCIpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSAvW15cXHdcXGRdL2csIFwiIFwiXG5cbiAgTWFrZSBcIkFzc2V0XCIsIEFzc2V0ID1cbiAgICBuZXc6IChwYXRoKS0+XG4gICAgICBhc3NldCA9XG4gICAgICAgIGlkOiBpZCA9IFJlYWQubGFzdCBwYXRoXG4gICAgICAgIG5hbWU6IGlkXG4gICAgICAgIHBhdGg6IHBhdGhcbiAgICAgICAgbnVtYmVyOiBBcnJheS5sYXN0IGlkLnNwbGl0KFwiIFwiKVxuICAgICAgICBjcmVhdG9yOiBpZC5zcGxpdChcIiBcIilbMC4uLi0xXS5qb2luIFwiIFwiXG4gICAgICAgIGhhc2g6IFN0cmluZy5oYXNoIGlkXG4gICAgICAgIHNob3Q6IG51bGxcbiAgICAgICAgbmV3U2hvdDogbnVsbFxuICAgICAgICB0YWdzOiBbXVxuICAgICAgICBmaWxlczogRmlsZVRyZWUubmV3RW1wdHkgcGF0aCwgXCJGaWxlc1wiXG4gICAgICAgIHRodW1ibmFpbHM6IHt9XG4gICAgICAgIF9sb2FkaW5nOiBmYWxzZVxuICAgICAgYXNzZXQuc2VhcmNoID0gQXNzZXQubG9hZC5zZWFyY2ggYXNzZXRcbiAgICAgIGFzc2V0XG5cbiAgICByZWh5ZHJhdGU6IChhc3NldHNGb2xkZXIsIGFzc2V0KS0+XG4gICAgICAjIGlkIC0gaW5jbHVkZWQgaW4gZGVoeWRyYXRlZCBhc3NldFxuICAgICAgIyBuYW1lIC0gaW5jbHVkZWQgaW4gZGVoeWRyYXRlZCBhc3NldFxuICAgICAgYXNzZXQucGF0aCA9IFJlYWQucGF0aCBhc3NldHNGb2xkZXIsIGFzc2V0LmlkXG4gICAgICBhc3NldC5udW1iZXIgPSBBcnJheS5sYXN0IGFzc2V0LmlkLnNwbGl0KFwiIFwiKVxuICAgICAgYXNzZXQuY3JlYXRvciA9IGFzc2V0LmlkLnNwbGl0KFwiIFwiKVswLi4uLTFdLmpvaW4gXCIgXCJcbiAgICAgIGFzc2V0Lmhhc2ggPSBTdHJpbmcuaGFzaCBhc3NldC5pZFxuICAgICAgIyBzaG90IC0gbm90IG5lZWRlZCBieSBicm93c2VyIGZvciBpbml0aWFsIHJlbmRlclxuICAgICAgIyBuZXdTaG90IC0gbm90IG5lZWRlZCBieSBicm93c2VyIGZvciBpbml0aWFsIHJlbmRlclxuICAgICAgIyB0YWdzIC0gaW5jbHVkZWQgaW4gZGVoeWRyYXRlZCBhc3NldFxuICAgICAgIyBmaWxlcyAtIGluY2x1ZGVkIGluIGRlaHlkcmF0ZWQgYXNzZXRcbiAgICAgIGFzc2V0LnRodW1ibmFpbHMgPSB7fVxuICAgICAgIyBzZWFyY2ggLSBpbmNsdWRlZCBpbiBkZWh5ZHJhdGVkIGFzc2V0XG4gICAgICBhc3NldFxuXG4gICAgIyBUaGlzIHByZXBzIGFuIGFzc2V0IGZvciBjYWNoaW5nIHRvIGRpc2suIE9ubHkga2VlcCB0aGUgbW9kaWN1bSBvZiBwcm9wZXJ0aWVzIG5lZWRlZFxuICAgICMgdG8gcXVpY2tseSBnZXQgYW4gYXNzZXQgcmVhZHkgZm9yIHVzZSBpbiB0aGUgQnJvd3NlciByaWdodCB3aGVuIEh5cGVyemluZSBsYXVuY2hlcy5cbiAgICAjIEFkZGl0aW9uYWwgYXNzZXQgZGF0YSB3aWxsIGJlIGxvYWRlZCAobW9yZSBzbG93bHkgLyBsYXppbHkpIG9uY2UgSHlwZXJ6aW5lIGlzIHJ1bm5pbmcuXG4gICAgIyBUaGlzIGxpdmVzIGhlcmUgYmVjYXVzZSB0aGlzIGZpbGUgaXMgdGhlIGh1YiBvZiBrbm93bGVkZ2UgYWJvdXQgd2hhdCBwcm9wcyBhc3NldHMgb3VnaHQgdG8gaGF2ZS5cbiAgICBkZWh5ZHJhdGU6IChhc3NldCktPlxuICAgICAgaWQ6IGFzc2V0LmlkXG4gICAgICBuYW1lOiBhc3NldC5uYW1lXG4gICAgICAjIHBhdGggLSB3aWxsIGJlIHJlaHlkcmF0ZWQgb24gbG9hZFxuICAgICAgIyBudW1iZXIgLSB3aWxsIGJlIHJlaHlkcmF0ZWQgb24gbG9hZFxuICAgICAgIyBjcmVhdG9yIC0gd2lsbCBiZSByZWh5ZHJhdGVkIG9uIGxvYWRcbiAgICAgICMgc2hvdCAtIG5vdCBuZWVkZWQgYnkgYnJvd3NlciBmb3IgaW5pdGlhbCByZW5kZXJcbiAgICAgICMgbmV3U2hvdCAtIG5vdCBuZWVkZWQgYnkgYnJvd3NlciBmb3IgaW5pdGlhbCByZW5kZXJcbiAgICAgIHRhZ3M6IGFzc2V0LnRhZ3NcbiAgICAgIGZpbGVzOlxuICAgICAgICBjb3VudDogYXNzZXQuZmlsZXMuY291bnRcbiAgICAgICMgdGh1bWJuYWlscyAtIG5vdCBuZWVkZWQgYnkgYnJvd3NlciBmb3IgaW5pdGlhbCByZW5kZXJcbiAgICAgIHNlYXJjaDogYXNzZXQuc2VhcmNoXG5cbiAgICBsb2FkRmllbGRzOiAoYXNzZXQpLT5cbiAgICAgIGFzc2V0Lm5hbWUgPSBhd2FpdCBBc3NldC5sb2FkLm5hbWUgYXNzZXRcbiAgICAgIGFzc2V0LnNob3QgPSBhd2FpdCBBc3NldC5sb2FkLnNob3QgYXNzZXRcbiAgICAgIGFzc2V0Lm5ld1Nob3QgPSBhd2FpdCBBc3NldC5sb2FkLm5ld1Nob3QgYXNzZXRcbiAgICAgIGFzc2V0LnRhZ3MgPSBhd2FpdCBBc3NldC5sb2FkLnRhZ3MgYXNzZXRcbiAgICAgIGFzc2V0LmZpbGVzID0gYXdhaXQgQXNzZXQubG9hZC5maWxlcyBhc3NldFxuICAgICAgYXNzZXQudGh1bWJuYWlscyA9IGF3YWl0IEFzc2V0LmxvYWQudGh1bWJuYWlscyBhc3NldFxuICAgICAgYXNzZXQuc2VhcmNoID0gQXNzZXQubG9hZC5zZWFyY2ggYXNzZXRcbiAgICAgIGFzc2V0XG5cbiAgICBsb2FkOlxuICAgICAgbmFtZTogKGFzc2V0KS0+XG4gICAgICAgIG5hbWUgPSBhd2FpdCBSZWFkLmFzeW5jKFBhdGhzLm5hbWVzIGFzc2V0KS50aGVuIGZpcnN0XG4gICAgICAgIChuYW1lIG9yIGFzc2V0LmlkKS50cmltKClcbiAgICAgIHNob3Q6IChhc3NldCktPlxuICAgICAgICBzaG90ID0gUmVhZC5hc3luYyhQYXRocy5zaG90cyBhc3NldCkudGhlbiBmaXJzdFxuICAgICAgbmV3U2hvdDogKGFzc2V0KS0+XG4gICAgICAgIHNob3QgPSBhd2FpdCBSZWFkLmFzeW5jKFBhdGhzLm5ld1Nob3RzIGFzc2V0KS50aGVuIGZpcnN0XG4gICAgICB0YWdzOiAoYXNzZXQpLT5cbiAgICAgICAgYXNzZXRUYWdzID0gYXdhaXQgUmVhZC5hc3luYyhQYXRocy50YWdzIGFzc2V0KS50aGVuIGFycmF5UHVuXG4gICAgICAgIE1lbW9yeSBcInRhZ3MuI3t0YWd9XCIsIHRhZyBmb3IgdGFnIGluIGFzc2V0VGFnc1xuICAgICAgICBhc3NldFRhZ3NcbiAgICAgIGZpbGVzOiAoYXNzZXQpLT5cbiAgICAgICAgRmlsZVRyZWUubmV3UG9wdWxhdGVkIGFzc2V0LnBhdGgsIFwiRmlsZXNcIlxuICAgICAgdGh1bWJuYWlsczogKGFzc2V0KS0+XG4gICAgICAgIHRodW1icyA9IGF3YWl0IFJlYWQuYXN5bmMoUGF0aHMudGh1bWJuYWlscyhhc3NldCkpLnRoZW4gYXJyYXlQdW5cbiAgICAgICAgQXJyYXkubWFwVG9PYmplY3QgdGh1bWJzLCAodGh1bWIpLT4gUGF0aHMudGh1bWJuYWlsIGFzc2V0LCB0aHVtYlxuICAgICAgc2VhcmNoOiAoYXNzZXQpLT5cbiAgICAgICAgaWQ6IHNlYXJjaFByZXAgYXNzZXQuaWRcbiAgICAgICAgbmFtZTogc2VhcmNoUHJlcCBhc3NldC5uYW1lXG4gICAgICAgIHRhZ3M6IHNlYXJjaFByZXAgYXNzZXQudGFncy5qb2luIFwiIFwiXG4gICAgICAgIGZpbGVzOiBBcnJheS51bmlxdWUoRmlsZVRyZWUuZmxhdChhc3NldC5maWxlcywgXCJiYXNlbmFtZVwiKSkubWFwIHNlYXJjaFByZXBcbiAgICAgICAgZXh0czogQXJyYXkudW5pcXVlKEZpbGVUcmVlLmZsYXQoYXNzZXQuZmlsZXMsIFwiZXh0XCIpKS5tYXAgc2VhcmNoUHJlcFxuXG5cbiMgZGIvYXNzZXRzL2xvYWQtYXNzZXRzLmNvZmZlZVxuVGFrZSBbXCJBc3NldFwiLCBcIkRCU3RhdGVcIiwgXCJMb2dcIiwgXCJNZW1vcnlcIiwgXCJSZWFkXCJdLCAoQXNzZXQsIERCU3RhdGUsIExvZywgTWVtb3J5LCBSZWFkKS0+XG5cbiAgIyBMb2FkQXNzZXRzIGRvZXMgYSB0b24gb2YgbG9uZy1ydW5uaW5nIGFzeW5jIHN0dWZmLCBzbyBpZiB0aGUgZGF0YUZvbGRlclxuICAjIGNoYW5nZXMgd2hpbGUgaXQncyBydW5uaW5nLCB3ZSdsbCBiZSBhc2tlZCB0byBzdGFydCBvdmVyIGFnYWluLlxuICBydW5uaW5nID0gZmFsc2VcbiAgcmVxdWVzdGVkID0gZmFsc2VcblxuICByZXN0YXJ0ID0gKCktPlxuICAgIHJ1bm5pbmcgPSBmYWxzZVxuICAgIHJlcXVlc3RlZCA9IGZhbHNlXG4gICAgTG9nIFwiUmVzdGFydGluZyBMb2FkQXNzZXRzXCIsIGJhY2tncm91bmQ6IFwiI2Y4MFwiLCBjb2xvcjogXCJibGFja1wiXG4gICAgTG9hZEFzc2V0cygpXG5cblxuICBNYWtlLmFzeW5jIFwiTG9hZEFzc2V0c1wiLCBMb2FkQXNzZXRzID0gKCktPlxuICAgIGlmIG5vdCBydW5uaW5nXG4gICAgICBydW5uaW5nID0gdHJ1ZVxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGxvYWRcbiAgICBlbHNlXG4gICAgICByZXF1ZXN0ZWQgPSB0cnVlXG5cblxuICBsb2FkID0gKCktPlxuICAgIExvZyBcIkxvYWRBc3NldHNcIlxuXG4gICAgYXNzZXRzID0ge31cbiAgICBhc3NldHNGb2xkZXIgPSBNZW1vcnkgXCJhc3NldHNGb2xkZXJcIlxuXG4gICAgIyBNYXJrIHRoYXQgd2Ugd2FudCB0byBiZSBpbiBhIFwicmVhZCBvbmx5XCIgbW9kZSwgc28gdGhhdCB0aGluZ3MgdGhhdCB3b3VsZFxuICAgICMgbm9ybWFsbHkgaGFwcGVuIHdoZW4gYXNzZXRzIGFyZSBjaGFuZ2VkIG1pZ2h0IG5vdCBoYXBwZW4sIHNpbmNlICpsb3RzKlxuICAgICMgb2YgYXNzZXRzIGFyZSBhYm91dCB0byBjaGFuZ2UuXG4gICAgTWVtb3J5IFwiUmVhZCBPbmx5XCIsIHRydWVcblxuICAgICMgVGhpcyBlbnN1cmVzIHdlIGhhdmUgYW4gYXNzZXRzIG9iamVjdCBpbiBNZW1vcnksIGV2ZW4gaWYgdGhlIGxpYnJhcnkgaXMgYnJhbmQgbmV3XG4gICAgIyBhbmQgdGhlcmUgYXJlIG5vIGFzc2V0cyBpbiBpdCB5ZXQgKGluIHdoaWNoIGNhc2Ugbm9uZSBvZiB0aGUgYmVsb3cgd291bGQgZW5kIHVwXG4gICAgIyBjb21taXR0aW5nIHRvIE1lbW9yeSwgYW5kIE1lbW9yeShcImFzc2V0c1wiKSB3b3VsZCBiZSB1bmRlZmluZWQpXG4gICAgTWVtb3J5LmRlZmF1bHQgXCJhc3NldHNcIiwgYXNzZXRzXG5cbiAgICBMb2cudGltZSBcIlJlaHlkcmF0aW5nIERCU3RhdGUgQXNzZXRzXCIsICgpLT5cbiAgICAgICMgVG8gc3RhcnQsIGxvYWQgYWxsIGFzc2V0IGRhdGEgY2FjaGVkIGZyb20gdGhlIGxhc3QgcnVuLlxuICAgICAgIyBUaGlzIHNob3VsZCBiZSBldmVyeXRoaW5nIG5lZWRlZCB0byBnZXQgdGhlIEJyb3dzZXIgbWluaW1hbGx5IHJlYWR5IGZvciByZWFkLW9ubHkgdXNlXG4gICAgICAjIChhbGJlaXQgd2l0aCBzdGFsZSBkYXRhKS5cbiAgICAgIGFzc2V0cyA9IERCU3RhdGUgXCJhc3NldHNcIlxuXG4gICAgICBuZWVkU2F2ZSA9IGZhbHNlXG5cbiAgICAgIGZvciBpZCwgYXNzZXQgb2YgYXNzZXRzXG4gICAgICAgIEFzc2V0LnJlaHlkcmF0ZSBhc3NldHNGb2xkZXIsIGFzc2V0XG4gICAgICAgIGFzc2V0Ll9sb2FkaW5nID0gdHJ1ZVxuICAgICAgICBuZWVkU2F2ZSA9IHRydWVcblxuICAgICAgTWVtb3J5IFwiYXNzZXRzXCIsIGFzc2V0cyBpZiBuZWVkU2F2ZVxuXG4gICAgIyBOb3cgdGhhdCB3ZSd2ZSBnb3QgdGhlIGNhY2hlZCBhc3NldCBkYXRhIGxvYWRlZCwgd2UgbmVlZCB0byBkbyAyIHRoaW5ncyB3aXRoIHRoZSByZWFsIGFzc2V0cyBmb2xkZXI6XG4gICAgIyAxLiBGYXN0LWxvYWQgYXNzZXRzIGNyZWF0ZWQgc2luY2Ugb3VyIGxhc3QgcnVuLlxuICAgICMgMi4gQ2xlYXIgYXNzZXRzIGRlbGV0ZWQgc2luY2Ugb3VyIGxhc3QgcnVuLlxuICAgICMgT25jZSB3ZSBoYXZlIHRoZXNlIHRoaW5ncyB0YWtlbiBjYXJlIG9mLCB0aGUgQnJvd3NlciB3aWxsIGJlIGluIGEgZnVsbHkgY29ycmVjdCBzdGF0ZSwgdGhvdWdoIHN0aWxsIHJlYWQtb25seS5cblxuICAgIGNyZWF0ZWQgPSB7fSAjIFRyYWNrIHRoZSBhc3NldHMgdGhhdCBhcmUgbmV3LCBzbyB3ZSBjYW4gc2tpcCByZWxvYWRpbmcgdGhlbSBkb3duIGJlbG93LlxuXG4gICAgIyBUaGlzIHNob3VsZCBhbGwgdGFrZSBhcm91bmQgM3Mgb24gYSBmaXJzdCBydW4sIGFuZCBvbmx5IGEgZmV3IG1zIG9uIHN1YnNlcXVlbnQgcnVucy5cbiAgICBhd2FpdCBMb2cudGltZS5hc3luYyBcIkZhc3QtTG9hZGluZyBOZXcgQXNzZXRzXCIsIGZhc3Rsb2FkID0gKCktPlxuXG4gICAgICBjb25maXJtZWQgPSB7fSAjIFRyYWNrIHRoZSByZWFsIGFzc2V0cyB3ZSd2ZSBzZWVuLCBzbyB3ZSBjYW4gY2xlYXIgYW55IGNhY2hlZCBhc3NldHMgdGhhdCB3ZXJlIGRlbGV0ZWQuXG4gICAgICBwcm9taXNlcyA9IFtdXG4gICAgICBuZWVkU2F2ZSA9IGZhbHNlXG5cbiAgICAgIGZvciBhc3NldEZvbGRlck5hbWUgaW4gUmVhZCBhc3NldHNGb2xkZXJcblxuICAgICAgICAjIEZpcnN0LCBidWlsZCBhIG5ldyBiYXNpYyBhc3NldCBmcm9tIHRoZSBhc3NldCBmb2xkZXIncyBuYW1lIGFuZCBwYXRoLlxuICAgICAgICBhc3NldCA9IEFzc2V0Lm5ldyBSZWFkLnBhdGggYXNzZXRzRm9sZGVyLCBhc3NldEZvbGRlck5hbWVcblxuICAgICAgICAjIElmIHRoaXMgaXMgYSBuZXcgYXNzZXQsIHdlIGNhbiBsb2FkIHRoZSByZXN0IG9mIGl0cyBkYXRhIGFuZCBzYXZlIGl0LlxuICAgICAgICBpZiBub3QgYXNzZXRzW2Fzc2V0LmlkXT9cbiAgICAgICAgICBjcmVhdGVkW2Fzc2V0LmlkXSA9IHRydWVcbiAgICAgICAgICBhc3NldHNbYXNzZXQuaWRdID0gYXNzZXRcbiAgICAgICAgICBwcm9taXNlcy5wdXNoIEFzc2V0LmxvYWRGaWVsZHMgYXNzZXRcbiAgICAgICAgICBuZWVkU2F2ZSA9IHRydWVcblxuICAgICAgICAjIE1hcmsgdGhhdCB3ZSd2ZSBzZWVuIHRoaXMgYXNzZXQuXG4gICAgICAgIGNvbmZpcm1lZFthc3NldC5pZF0gPSB0cnVlXG5cbiAgICAgIGZvciBwIGluIHByb21pc2VzXG4gICAgICAgIGF3YWl0IHBcblxuICAgICAgIyAyLiBDbGVhciBhbnkgYXNzZXRzIHdlIGRpZG4ndCBzZWUgZHVyaW5nIG91ciBsb29wIG92ZXIgdGhlIGFzc2V0cyBmb2xkZXIuXG4gICAgICBmb3IgYXNzZXRJZCBvZiBhc3NldHMgd2hlbiBub3QgY29uZmlybWVkW2Fzc2V0SWRdXG4gICAgICAgIGRlbGV0ZSBhc3NldHNbYXNzZXRJZF1cbiAgICAgICAgbmVlZFNhdmUgPSB0cnVlXG5cbiAgICAgIE1lbW9yeSBcImFzc2V0c1wiLCBhc3NldHMgaWYgbmVlZFNhdmVcblxuICAgIHJldHVybiByZXN0YXJ0KCkgaWYgcmVxdWVzdGVkXG5cbiAgICAjIE5vdyB0aGF0IHdlJ3JlIGRvbmUgbG9hZGluZyBhbGwgdGhlIG5ldyBhc3NldHMsIHdlIGNhbiBnbyBiYWNrIGFuZCByZS1sb2FkIGFsbCB0aGUgb3RoZXJcbiAgICAjIGFzc2V0cywgdG8gY2F0Y2ggYW55IGNoYW5nZXMgd2UgbWlnaHQgaGF2ZSBtaXNzZWQgc2luY2UgSHlwZXJ6aW5lIGxhc3QgcmFuLCBhbmQgdG8gZmlsbC1pblxuICAgICMgYW55IG9mIHRoZSBkZXRhaWxzIHRoYXQgd2VyZW4ndCBpbmNsdWRlZCBpbiB0aGUgY2FjaGUuXG4gICAgYXdhaXQgTG9nLnRpbWUuYXN5bmMgXCJSZWxvYWRpbmcgTm90LU5ldyBBc3NldHNcIiwgZGVsdGFsb2FkID0gKCktPlxuXG4gICAgICBuZWVkU2F2ZSA9IGZhbHNlXG5cbiAgICAgIHByb21pc2VzID0gZm9yIGlkLCBhc3NldCBvZiBhc3NldHNcblxuICAgICAgICAjIFNraXAgYW55IGFzc2V0cyB0aGF0IHdlIGFscmVhZHkgbG9hZGVkLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgcHJlc3VtYWJseSB1cC10by1kYXRlXG4gICAgICAgICMgKGFuZCB3YXRjaC1hc3NldHMuY29mZmVlIHdpbGwgY2F0Y2ggYW55IGNoYW5nZXMgdGhhdCBoYXBwZW4gd2hpbGUgd2UncmUgcnVubmluZylcbiAgICAgICAgY29udGludWUgaWYgY3JlYXRlZFtpZF0/XG5cbiAgICAgICAgbmVlZFNhdmUgPSB0cnVlXG4gICAgICAgIHByb21pc2UgPSBBc3NldC5sb2FkRmllbGRzIGFzc2V0XG5cbiAgICAgIGZvciBwIGluIHByb21pc2VzXG4gICAgICAgIGFzc2V0ID0gYXdhaXQgcFxuICAgICAgICBhc3NldC5fbG9hZGluZyA9IGZhbHNlXG5cbiAgICAgICMgU2F2aW5nIHRoaXMgYmVjYXVzZSBpdCBzZWVtcyB0byBiZSBmYXN0ZXIgdGhhbiB0aGUgYWJvdmUgaW4gc29tZSBjYXNlcy5cbiAgICAgICMgV2UgY2FuIHRlc3QgaXQgbW9yZSBsYXRlci5cbiAgICAgICMgbG9hZCA9IChrKS0+XG4gICAgICAjICAgbmV3IFByb21pc2UgbG9hZFByb21pc2UgPSAocmVzb2x2ZSktPlxuICAgICAgIyAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGxvYWRSYWYgPSAoKS0+XG4gICAgICAjICAgICAgIGF3YWl0IExvZy50aW1lLmFzeW5jIFwiQnVpbGQgI3trfVwiLCBsb2FkTG9nID0gKCktPlxuICAgICAgIyAgICAgICAgIGZvciBpZCwgYXNzZXQgb2YgYXNzZXRzIHdoZW4gbm90IGNyZWF0ZWRbaWRdP1xuICAgICAgIyAgICAgICAgICAgYXNzZXRba10gPSBBc3NldC5sb2FkW2tdIGFzc2V0XG4gICAgICAjICAgICAgICAgZm9yIGlkLCBhc3NldCBvZiBhc3NldHMgd2hlbiBub3QgY3JlYXRlZFtpZF0/XG4gICAgICAjICAgICAgICAgICBhc3NldFtrXSA9IGF3YWl0IGFzc2V0W2tdXG4gICAgICAjICAgICAgICAgbnVsbFxuICAgICAgIyAgICAgICByZXNvbHZlKClcbiAgICAgICNcbiAgICAgICMgZm9yIGsgaW4gW1wibmFtZVwiLCBcInNob3RcIiwgXCJ0YWdzXCIsIFwiZmlsZXNcIl1cbiAgICAgICMgICBhd2FpdCBsb2FkIGtcbiAgICAgICNcbiAgICAgICMgTG9nLnRpbWUgXCJCdWlsZCBTZWFyY2hcIiwgc2VhcmNobG9nID0gKCktPlxuICAgICAgIyAgIGZvciBpZCwgYXNzZXQgb2YgYXNzZXRzIHdoZW4gbm90IGNyZWF0ZWRbaWRdP1xuICAgICAgIyAgICAgYXNzZXQuc2VhcmNoID0gQXNzZXQubG9hZC5zZWFyY2ggYXNzZXRcbiAgICAgICMgICAgIG5lZWRTYXZlID0gdHJ1ZVxuXG4gICAgICBNZW1vcnkgXCJhc3NldHNcIiwgYXNzZXRzIGlmIG5lZWRTYXZlXG5cbiAgICByZXR1cm4gcmVzdGFydCgpIGlmIHJlcXVlc3RlZFxuXG4gICAgIyBGaW5hbGx5LCBzYXZlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIGFzc2V0cyB0byB0aGUgZGlzaywgdG8gc3BlZWQgZnV0dXJlIGxhdW5jaCB0aW1lcy5cbiAgICBMb2cudGltZSBcIlNhdmluZyBGYXN0LUxvYWQgQXNzZXQgQ2FjaGVcIiwgKCktPlxuICAgICAgREJTdGF0ZSBcImFzc2V0c1wiLCBPYmplY3QubWFwVmFsdWVzIGFzc2V0cywgQXNzZXQuZGVoeWRyYXRlXG5cbiAgICAjIERvbmVcbiAgICByZXR1cm4gcmVzdGFydCgpIGlmIHJlcXVlc3RlZFxuICAgIHJ1bm5pbmcgPSBmYWxzZVxuICAgIE1lbW9yeSBcIlJlYWQgT25seVwiLCBmYWxzZVxuXG5cbiMgZGIvY29mZmVlL2NvbmZpZy5jb2ZmZWVcbiMgQ29uZmlnXG4jIFRoaXMgc3lzdGVtIG1hbmFnZXMgdXNlciBwcmVmZXJlbmNlcyBhbmQgcmVsYXRlZCBkYXRhLiBJdCB1c2VzIE1lbW9yeSB0byBzaGFyZSB0aGlzIGRhdGEgd2l0aCBvdGhlciBzeXN0ZW1zLlxuIyBUaGlzIGZpbGUgaXMgYWxzbyB3aGVyZSBhbGwgdGhlIGRlZmF1bHQgdmFsdWVzIGZvciB1c2VyIHByZWZlcmVuY2VzIGFyZSBsaXN0ZWQuXG5cblRha2UgW1wiQURTUlwiLCBcIkVudlwiLCBcIkxvZ1wiLCBcIk1lbW9yeVwiLCBcIlJlYWRcIiwgXCJXcml0ZVwiXSwgKEFEU1IsIEVudiwgTG9nLCBNZW1vcnksIFJlYWQsIFdyaXRlKS0+XG5cbiAgIyBUaGlzIGxpc3RzIGFsbCB0aGUga2V5cyB3ZSdsbCBwZXJzaXN0IGluIHRoZSBjb25maWcgZmlsZSwgd2l0aCB0aGVpciBkZWZhdWx0IHZhbHVlc1xuICBjb25maWdEYXRhID1cbiAgICBhc3NldFRodW1ibmFpbFNpemU6IDAuNVxuICAgIGJyb3dzZXJUaHVtYm5haWxTaXplOiAxXG4gICAgZGF0YUZvbGRlcjogRW52LmRlZmF1bHREYXRhRm9sZGVyXG4gICAgbG9jYWxOYW1lOiBFbnYuY29tcHV0ZXJOYW1lXG4gICAgc2V0dXBEb25lOiBmYWxzZVxuXG4gIGFwcGx5Q29uZmlnID0gKGRhdGEpLT5cbiAgICBmb3IgaywgdiBvZiBkYXRhXG4gICAgICBkaWRTZXQgPSBNZW1vcnkuZGVmYXVsdCBrLCB2XG4gICAgICBpZiBub3QgZGlkU2V0IHRoZW4gTG9nLmVyciBcIk1lbW9yeSgje2t9KSB3YXMgYWxyZWFkeSBkZWZpbmVkIGJlZm9yZSBDb25maWcgaW5pdGlhbGl6ZWQgaXRcIlxuICAgICAgY29uZmlnRGF0YVtrXSA9IHZcblxuICBzZXR1cFN1YnNjcmliZXJzID0gKCktPlxuICAgIGZvciBrIG9mIGNvbmZpZ0RhdGFcbiAgICAgIE1lbW9yeS5zdWJzY3JpYmUgaywgZmFsc2UsIHVwZGF0ZUFuZFNhdmUga1xuXG4gIHVwZGF0ZUFuZFNhdmUgPSAoayktPiAodiktPlxuICAgIGlmIGNvbmZpZ0RhdGFba10gaXNudCB2XG4gICAgICBjb25maWdEYXRhW2tdID0gdlxuICAgICAgc2F2ZSgpXG5cbiAgc2F2ZSA9IEFEU1IgMCwgMjAwMCwgKCktPlxuICAgIFdyaXRlLnN5bmMuanNvbiBFbnYuY29uZmlnUGF0aCwgY29uZmlnRGF0YSwgcXVpZXQ6IHRydWVcblxuICBNYWtlIFwiQ29uZmlnXCIsICgpLT4gTG9nLnRpbWUgXCJMb2FkaW5nIENvbmZpZ1wiLCAoKS0+XG5cbiAgICBjb25maWdGaWxlID0gUmVhZC5maWxlIEVudi5jb25maWdQYXRoXG5cbiAgICBpZiBub3QgY29uZmlnRmlsZT9cbiAgICAgIGFwcGx5Q29uZmlnIGNvbmZpZ0RhdGEgIyBVc2UgdGhlIGRlZmF1bHQgY29uZmlnIGRhdGFcbiAgICAgIHNldHVwU3Vic2NyaWJlcnMoKVxuICAgICAgcmV0dXJuIGZhbHNlICMgTm8gY29uZmlnIGZpbGUg4oCUIG5lZWQgdG8gcnVuIFNldHVwIEFzc2lzdGFudFxuXG4gICAgdHJ5XG4gICAgICBsb2FkZWREYXRhID0gSlNPTi5wYXJzZSBjb25maWdGaWxlXG4gICAgICBhcHBseUNvbmZpZyBsb2FkZWREYXRhXG4gICAgICBzZXR1cFN1YnNjcmliZXJzKClcbiAgICAgICMgTG9hZGVkIHN1Y2Nlc3NmdWxseSDigJQgcmV0dXJuIHRydWUgdG8gbGF1bmNoIG5vcm1hbGx5LCBvciBmYWxzZSB0byBydW4gU2V0dXAgQXNzaXN0YW50XG4gICAgICByZXR1cm4gQm9vbGVhbiBjb25maWdEYXRhLnNldHVwRG9uZVxuXG4gICAgY2F0Y2hcbiAgICAgIHJldHVybiBudWxsICMgRmF0YWwgZXJyb3JcblxuXG4jIGRiL2NvZmZlZS9kYi1zdGF0ZS5jb2ZmZWVcbiMgVGhpcyBmaWxlIG1hbmFnZXMgZGF0YSB0aGF0IG5lZWRzIHRvIGJlIHBlcnNpc3RlZCB0byB0aGUgbG9jYWwgZmlsZXN5c3RlbSwganVzdCBmb3IgdGhlIERCIHByb2Nlc3MuXG4jIFRoZSB0eXBpY2FsIHVzZSBvZiB0aGlzIHN5c3RlbSBpcyB0byBjYWNoZSBkYXRhIHRoYXQnbGwgc3BlZWQgdXAgbGF1bmNoaW5nIHRoZSBhcHAuXG4jIERCU3RhdGUgaXMgaXRzIG93biBkYXRhIHN0b3JlLiBJdCBkb2VzIG5vdCBwdXQgaXRzIGRhdGEgaW50byBTdGF0ZSBvciBNZW1vcnkuXG5cblRha2UgW1wiQURTUlwiLCBcIkVudlwiLCBcIkxvZ1wiLCBcIlJlYWRcIiwgXCJXcml0ZVwiXSwgKEFEU1IsIEVudiwgTG9nLCBSZWFkLCBXcml0ZSktPlxuXG4gICMgVGhpcyBsaXN0cyBhbGwgdGhlIGtleXMgd2UnbGwgcGVyc2lzdCBpbiB0aGUgREJTdGF0ZSBmaWxlLCB3aXRoIHRoZWlyIGRlZmF1bHQgdmFsdWVzXG4gIHN0YXRlID1cbiAgICBhc3NldHM6IHt9XG5cbiAgc2F2ZSA9IEFEU1IgMjAsIDIwMDAsICgpLT5cbiAgICBMb2cudGltZSBcIlNhdmluZyBEQlN0YXRlXCIsICgpLT5cbiAgICAgICMgVE9ETzogVGhpcyBzaG91bGQgdG90YWxseSBiZSBhc3luY1xuICAgICAgV3JpdGUuc3luYy5qc29uIEVudi5kYlN0YXRlUGF0aCwgc3RhdGUsIHF1aWV0OiB0cnVlXG5cbiAgTWFrZS5hc3luYyBcIkRCU3RhdGVcIiwgREJTdGF0ZSA9IChrLCB2KS0+XG4gICAgdGhyb3cgRXJyb3IgXCJVbmtub3duIERCU3RhdGUga2V5OiAje2t9XCIgdW5sZXNzIHN0YXRlW2tdP1xuICAgIGlmIHYgaXNudCB1bmRlZmluZWRcbiAgICAgIGlmIHY/IHRoZW4gc3RhdGVba10gPSB2IGVsc2UgZGVsZXRlIHN0YXRlW2tdXG4gICAgICBzYXZlKClcbiAgICBzdGF0ZVtrXVxuXG4gIERCU3RhdGUuaW5pdCA9ICgpLT4gTG9nLnRpbWUgXCJMb2FkaW5nIERCU3RhdGVcIiwgKCktPlxuICAgIHRyeVxuICAgICAganNvbiA9IFJlYWQuZmlsZSBFbnYuZGJTdGF0ZVBhdGhcbiAgICAgIGRhdGEgPSBKU09OLnBhcnNlIGpzb25cbiAgICAgIGZvciBrLCB2IG9mIGRhdGFcbiAgICAgICAgIyBPbmx5IGFjY2VwdCBrZXlzIHdlIGV4cGxpY2l0bHkgbGlzdCBpbiB0aGUgZGVmYXVsdHMuXG4gICAgICAgICMgVGhpcyBsZXRzIHVzIGRyb3Agb2Jzb2xldGUgdmFsdWVzLlxuICAgICAgICBpZiBzdGF0ZVtrXT9cbiAgICAgICAgICBzdGF0ZVtrXSA9IHZcblxuXG4jIGRiL2NvZmZlZS9wb3J0cy5jb2ZmZWVcblRha2UgW1wiSVBDXCIsIFwiTG9nXCJdLCAoSVBDLCBMb2cpLT5cblxuICBwb3J0cyA9IHt9XG4gIGxpc3RlbmVycyA9IHt9XG5cbiAgSVBDLm9uIFwicG9ydFwiLCAoZSwge2lkfSktPlxuICAgIHBvcnQgPSBwb3J0c1tpZF0gPSBlLnBvcnRzWzBdXG4gICAgcG9ydC5vbm1lc3NhZ2UgPSAoe2RhdGE6IFtyZXF1ZXN0SUQsIG1zZywgLi4uYXJnc119KS0+XG4gICAgICBpZiBmbiA9IGxpc3RlbmVyc1ttc2ddXG4gICAgICAgIHYgPSBhd2FpdCBmbiAuLi5hcmdzXG4gICAgICAgIHBvcnQucG9zdE1lc3NhZ2UgW1wicmV0dXJuXCIsIHJlcXVlc3RJRCwgdl1cbiAgICAgIGVsc2VcbiAgICAgICAgTG9nLmVyciBcIk1pc3NpbmcgREIgcG9ydCBoYW5kbGVyOiAje21zZ31cIlxuXG4gICMgVGhpcyBpcyBmb3IgY29tbXVuaWNhdGlvbiBmcm9tIE1haW4gdG8gREIgaW4gYSB3YXkgdGhhdCBwcmV0ZW5kcyB0byBiZSBhIHBvcnQuXG4gICMgVXNlZnVsIGVzcGVjaWFsbHkgZm9yIGxpYnMgdGhhdCB1c2UgdGhlIERCIGludGVyZmFjZSwgbGlrZSBMb2cuXG4gIElQQy5vbiBcIm1haW5Qb3J0XCIsIChlLCBtc2csIC4uLmFyZ3MpLT5cbiAgICBpZiBmbiA9IGxpc3RlbmVyc1ttc2ddXG4gICAgICBmbiAuLi5hcmdzXG4gICAgICAjIE5vIHJldHVybiB2YWx1ZSAoeWV0IOKAlCBpbXBsZW1lbnQgdGhpcyBpZiB3ZSBuZWVkIGl0KVxuICAgIGVsc2VcbiAgICAgIExvZy5lcnIgXCJNaXNzaW5nIERCIG1haW5Qb3J0IGhhbmRsZXI6ICN7bXNnfVwiXG5cbiAgTWFrZSBcIlBvcnRzXCIsIFBvcnRzID1cbiAgICBvbjogKG1zZywgY2IpLT5cbiAgICAgIGlmIGxpc3RlbmVyc1ttc2ddPyB0aGVuIHRocm93IEVycm9yIFwiREIgUG9ydCBtZXNzYWdlICN7bXNnfSBhbHJlYWR5IGhhcyBhIGxpc3RlbmVyXCJcbiAgICAgIGxpc3RlbmVyc1ttc2ddID0gY2JcblxuICAgIHNlbmQ6IChtc2csIC4uLmFyZ3MpLT5cbiAgICAgIGZvciBpZCwgcG9ydCBvZiBwb3J0c1xuICAgICAgICBwb3J0LnBvc3RNZXNzYWdlIFttc2csIC4uLmFyZ3NdXG4gICAgICBudWxsXG5cbiAgICAjIGNsb3NlOiAoaWQpLT5cbiAgICAjICAgcG9ydHNbaWRdLmNsb3NlKClcbiAgICAjICAgZGVsZXRlIHBvcnRzW2lkXVxuXG5cbiMgZGIvY29mZmVlL3ByaW50ZXIuY29mZmVlXG5UYWtlIFtcIkRPT01cIiwgXCJQb3J0c1wiLCBcIkRPTUNvbnRlbnRMb2FkZWRcIl0sIChET09NLCBQb3J0cyktPlxuXG4gIG1heExvZ0xpbmVzID0gNTAwMFxuICBwcmludGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciBcImxvZy1wcmludGVyXCJcblxuICBQcmludGVyID0gKG1zZywgYXR0cnMsIHRpbWUpLT5cbiAgICB0aW1lID0gKHRpbWUgb3IgcGVyZm9ybWFuY2Uubm93KCkpLnRvRml4ZWQoMCkucGFkU3RhcnQoNSlcbiAgICBjb25zb2xlLmxvZyB0aW1lLCBtc2dcblxuICAgIGVsbSA9IERPT00uY3JlYXRlIFwiZGl2XCIsIG51bGwsIHRleHRDb250ZW50OiAodGltZS8xMDAwKS50b0ZpeGVkKDMpICsgXCIgIFwiICsgbXNnXG4gICAgRE9PTSBlbG0sIGF0dHJzIGlmIGF0dHJzP1xuICAgIERPT00ucHJlcGVuZCBwcmludGVyLCBlbG1cblxuICAgIHdoaWxlIHByaW50ZXIuY2hpbGRFbGVtZW50Q291bnQgPiBtYXhMb2dMaW5lc1xuICAgICAgRE9PTS5yZW1vdmUgcHJpbnRlci5sYXN0Q2hpbGRcblxuICAgIHJldHVybiBtc2dcblxuICBQb3J0cy5vbiBcInByaW50ZXJcIiwgUHJpbnRlclxuICBNYWtlIFwiUHJpbnRlclwiLCBQcmludGVyXG5cblxuIyBkYi9jb2ZmZWUvc3BlY2lhbC10YWdzLmNvZmZlZVxuVGFrZSBbXCJNZW1vcnlcIl0sIChNZW1vcnkpLT5cblxuICBzcGVjaWFsVGFncyA9IHtcbiAgICBcIkFyY2hpdmVkXCJcbiAgfVxuXG4gIE1lbW9yeS5tZXJnZSBcInRhZ3NcIiwgc3BlY2lhbFRhZ3NcbiAgTWVtb3J5IFwic3BlY2lhbFRhZ3NcIiwgc3BlY2lhbFRhZ3NcblxuXG4jIGRiL2RiLmNvZmZlZVxuVGFrZSBbXCJDb25maWdcIiwgXCJEQlN0YXRlXCIsIFwiSVBDXCIsIFwiTG9nXCJdLCAoQ29uZmlnLCBEQlN0YXRlLCBJUEMsIExvZyktPlxuXG4gICMgTGV0IHRoZSBNYWluIHByb2Nlc3Mga25vdyB0aGF0IHRoZSBEQiBpcyBvcGVuIGFuZCBpdCdzIHNhZmUgdG8gYmVnaW4gbG9nZ2luZ1xuICBJUEMuc2VuZCBcImRiLW9wZW5cIlxuXG4gICMgVGhlIERCIHByb2Nlc3Mgc3RvcmVzIGEgY2FjaGUgb2YgZGF0YSBpbiBhIGZpbGUsIHRvIGhlbHAgaXQgc3BlZWQgdXAgbGF1bmNoaW5nLiBXZSBsb2FkIHRoYXQgZmlyc3QuXG4gIERCU3RhdGUuaW5pdCgpXG5cbiAgIyBOZXh0LCB3ZSBsb2FkIHRoZSBjb25maWcgZmlsZSDigJQgcHJlZmVyZW5jZSBkYXRhIGNyZWF0ZWQgYnkgdGhlIFNldHVwIEFzc2lzdGFudCBhbmQgdGhyb3VnaCBnZW5lcmFsIHVzZXIgaW50ZXJhY3Rpb24uXG4gIGNvbmZpZyA9IENvbmZpZygpXG5cbiAgIyBEZXBlbmRpbmcgb24gaG93IHRoZSBjb25maWcgbG9hZCB3ZW50LCB3ZSBjYW4gY29udGludWUgdG8gbGF1bmNoIHRoZSBtYWluIGFwcCwgb3IgZHJvcFxuICAjIHRoZSB1c2VyIGludG8gdGhlIFNldHVwIEFzc2lzdGFudC5cbiAgc3dpdGNoIGNvbmZpZ1xuICAgIHdoZW4gdHJ1ZVxuICAgICAgSVBDLnNlbmQgTG9nIFwiY29uZmlnLXJlYWR5XCIgIyBTZXR1cCBBc3Npc3RhbnQgd2FzIHByZXZpb3VzbHkgY29tcGxldGVkLCBzbyBsYXVuY2ggdGhlIG1haW4gYXBwLlxuICAgIHdoZW4gZmFsc2VcbiAgICAgIElQQy5zZW5kIExvZyBcIm9wZW4tc2V0dXAtYXNzaXN0YW50XCIgIyBTZXR1cCBBc3Npc3RhbnQgaGFzIG5vdCBiZWVuIGNvbXBsZXRlZCwgc28gbGF1bmNoIGl0LlxuICAgIGVsc2VcbiAgICAgIElQQy5zZW5kIFwiZmF0YWxcIiwgXCJIeXBlcnppbmUgZmFpbGVkIHRvIGxvYWQgeW91ciBzYXZlZCBwcmVmZXJlbmNlcy4gVG8gYXZvaWQgZGFtYWdpbmcgdGhlIHByZWZlcmVuY2VzIGZpbGUsIEh5cGVyemluZSB3aWxsIG5vdyBjbG9zZS4gUGxlYXNlIGFzayBJdmFuIGZvciBoZWxwLlwiXG5cbiAgIyBBdCB0aGlzIHBvaW50IHdlJ3JlIGRvbmUgaW5pdGlhbGl6aW5nLiBIZXJlJ3Mgd2hhdCBoYXBwZW5zIG5leHQ6XG4gICMgKiBFaXRoZXIgdGhlIGNvbmZpZyBmaWxlIG9yIHRoZSBTZXR1cCBBc3Npc3RhbnQgd2lsbCBzcGVjaWZ5IGEgZGF0YSBmb2xkZXIuXG4gICMgKiBUaGUgYXNzZXRzLWZvbGRlci5jb2ZmZWUgc3Vic2NyaXB0aW9uIHdpbGwgbWFrZSBzdXJlIHdlIGhhdmUgYW4gQXNzZXRzIGZvbGRlciBpbiB0aGUgZGF0YSBmb2xkZXIsXG4gICMgICBhbmQgdGhlbiBjYWxsIExvYWRBc3NldHMoKSB0byBsb2FkIGFsbCBvdXIgYXNzZXQgZGF0YSBpbnRvIG1lbW9yeS5cbiAgIyAqIENvbmN1cnJlbnRseSB3aXRoIHRoZSBhYm92ZSwgdGhlIE1haW4gcHJvY2VzcyB3aWxsIGxhdW5jaCBhIEJyb3dzZXIgd2luZG93LlxuICAjICogQXMgYXNzZXQgZGF0YSBjb21lcyBpbnRvIGV4aXN0ZW5jZSwgdGhlIEJyb3dzZXIgd2luZG93IHdpbGwgcG9wdWxhdGUgaXRzZWxmLlxuXG5cbiMgZGIvcG9ydHMtaGFuZGxlcnMvYXNzZXQtaGFuZGxlcnMuY29mZmVlXG5UYWtlIFtcIkFzc2V0XCIsIFwiRmlsZVRyZWVcIiwgXCJJUENcIiwgXCJMb2dcIiwgXCJNZW1vcnlcIiwgXCJQYXRoc1wiLCBcIlBvcnRzXCIsIFwiUmVhZFwiLCBcIldyaXRlXCJdLCAoQXNzZXQsIEZpbGVUcmVlLCBJUEMsIExvZywgTWVtb3J5LCBQYXRocywgUG9ydHMsIFJlYWQsIFdyaXRlKS0+XG5cbiAgUG9ydHMub24gXCJOZXcgQXNzZXRcIiwgKCktPlxuICAgIGFzc2V0c0ZvbGRlciA9IE1lbW9yeSBcImFzc2V0c0ZvbGRlclwiXG4gICAgbnVtYmVyID0gTWVtb3J5IFwibmV4dEFzc2V0TnVtYmVyXCJcbiAgICBjcmVhdG9yID0gTWVtb3J5IFwibG9jYWxOYW1lXCJcbiAgICBpZCA9IGNyZWF0b3IgKyBcIiBcIiArIG51bWJlclxuICAgIHBhdGggPSBSZWFkLnBhdGggYXNzZXRzRm9sZGVyLCBpZFxuICAgIE1lbW9yeSBcImFzc2V0cy4je2lkfVwiLCBBc3NldC5uZXcgcGF0aCAjIFVwZGF0ZSBNZW1vcnlcbiAgICBXcml0ZS5zeW5jLm1rZGlyIHBhdGggIyBVcGRhdGUgRGlza1xuICAgIElQQy5zZW5kIFwib3Blbi1hc3NldFwiLCBpZFxuICAgIHJldHVybiBpZFxuXG4gIFBvcnRzLm9uIFwiRGVsZXRlIEFzc2V0XCIsIChhc3NldElkKS0+XG4gICAgcmV0dXJuIHVubGVzcyBhc3NldCA9IE1lbW9yeSBcImFzc2V0cy4je2Fzc2V0SWR9XCJcbiAgICBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiLCBudWxsICMgVXBkYXRlIE1lbW9yeVxuICAgIFdyaXRlLnN5bmMucm0gYXNzZXQucGF0aCAjIFVwZGF0ZSBEaXNrXG5cbiAgUG9ydHMub24gXCJSZW5hbWUgQXNzZXRcIiwgKGFzc2V0SWQsIHYpLT5cbiAgICByZXR1cm4gdW5sZXNzIGFzc2V0ID0gTWVtb3J5IFwiYXNzZXRzLiN7YXNzZXRJZH1cIlxuICAgIE1lbW9yeSBcImFzc2V0cy4je2Fzc2V0SWR9Lm5hbWVcIiwgdiAjIFVwZGF0ZSBNZW1vcnlcbiAgICBXcml0ZS5zeW5jLmFycmF5IFBhdGhzLm5hbWVzKGFzc2V0KSwgW3ZdICMgVXBkYXRlIERpc2tcblxuICBQb3J0cy5vbiBcIkFkZCBUYWdcIiwgKGFzc2V0SWQsIHRhZyktPlxuICAgIHJldHVybiB1bmxlc3MgYXNzZXQgPSBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgTWVtb3J5LnVwZGF0ZSBcImFzc2V0cy4je2Fzc2V0SWR9LnRhZ3NcIiwgKHRhZ3MpLT4gIyBVcGRhdGUgTWVtb3J5XG4gICAgICBBcnJheS5zb3J0QWxwaGFiZXRpYyB0YWdzLmNvbmNhdCB0YWdcbiAgICBXcml0ZS5zeW5jLm1rZGlyIFBhdGhzLnRhZyBhc3NldCwgdGFnICMgVXBkYXRlIERpc2tcblxuICBQb3J0cy5vbiBcIlJlbW92ZSBUYWdcIiwgKGFzc2V0SWQsIHRhZyktPlxuICAgIHJldHVybiB1bmxlc3MgYXNzZXQgPSBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgTWVtb3J5Lm11dGF0ZSBcImFzc2V0cy4je2Fzc2V0SWR9LnRhZ3NcIiwgKHRhZ3MpLT4gIyBVcGRhdGUgTWVtb3J5XG4gICAgICBBcnJheS5wdWxsIHRhZ3MsIHRhZ1xuICAgIFdyaXRlLnN5bmMucm0gUGF0aHMudGFnIGFzc2V0LCB0YWcgIyBVcGRhdGUgRGlza1xuXG4gIFBvcnRzLm9uIFwiQWRkIEZpbGVzXCIsIChhc3NldElkLCBuZXdGaWxlcyktPlxuICAgIHJldHVybiB1bmxlc3MgYXNzZXQgPSBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgYXNzZXRGaWxlc1BhdGggPSBQYXRocy5maWxlcyBhc3NldFxuICAgIFdyaXRlLnN5bmMubWtkaXIgYXNzZXRGaWxlc1BhdGhcbiAgICBmb3IgZmlsZSBpbiBuZXdGaWxlc1xuICAgICAgV3JpdGUuYXN5bmMuY29weUludG8gZmlsZSwgYXNzZXRGaWxlc1BhdGhcbiAgICBudWxsXG5cbiAgUG9ydHMub24gXCJEZWxldGUgRmlsZVwiLCAoYXNzZXRJZCwgcmVscGF0aCktPlxuICAgIHJldHVybiB1bmxlc3MgYXNzZXQgPSBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgcmV0dXJuIHVubGVzcyBmaWxlID0gRmlsZVRyZWUuZmluZCBhc3NldC5maWxlcywgXCJyZWxwYXRoXCIsIHJlbHBhdGhcbiAgICAjIFVwZGF0aW5nIE1lbW9yeSB3b3VsZCBiZSBjb21wbGV4LCBzbyB3ZSdsbCBqdXN0IGxldCB3YXRjaC1hc3NldHMgY2F0Y2ggdGhpcyBvbmVcbiAgICBXcml0ZS5zeW5jLnJtIGZpbGUucGF0aCAjIFVwZGF0ZSBEaXNrXG5cbiAgUG9ydHMub24gXCJSZW5hbWUgRmlsZVwiLCAoYXNzZXRJZCwgcmVscGF0aCwgdiktPlxuICAgIHJldHVybiB1bmxlc3MgYXNzZXQgPSBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgcmV0dXJuIHVubGVzcyBmaWxlID0gRmlsZVRyZWUuZmluZCBhc3NldC5maWxlcywgXCJyZWxwYXRoXCIsIHJlbHBhdGhcbiAgICAjIFVwZGF0aW5nIE1lbW9yeSB3b3VsZCBiZSBjb21wbGV4LCBzbyB3ZSdsbCBqdXN0IGxldCB3YXRjaC1hc3NldHMgY2F0Y2ggdGhpcyBvbmVcbiAgICBXcml0ZS5zeW5jLnJlbmFtZSBmaWxlLnBhdGgsIHYgIyBVcGRhdGUgRGlza1xuXG4gIFBvcnRzLm9uIFwiU2V0IFRodW1ibmFpbFwiLCAoYXNzZXRJZCwgcmVscGF0aCktPlxuICAgIHJldHVybiB1bmxlc3MgYXNzZXQgPSBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgcmV0dXJuIHVubGVzcyBmaWxlID0gRmlsZVRyZWUuZmluZCBhc3NldC5maWxlcywgXCJyZWxwYXRoXCIsIHJlbHBhdGhcbiAgICByZXR1cm4gaWYgZmlsZS5uYW1lIGlzIGFzc2V0Lm5ld1Nob3RcbiAgICAjIFdlJ2xsIGp1c3QgbGV0IHdhdGNoLWFzc2V0cyBoYW5kbGUgdXBkYXRpbmcgbmV3U2hvdCBpbiBNZW1vcnlcbiAgICAjIFVwZGF0ZSBEaXNrXG4gICAgbmV3U2hvdHNGb2xkZXIgPSBQYXRocy5uZXdTaG90cyBhc3NldFxuICAgIFdyaXRlLnN5bmMucm0gbmV3U2hvdHNGb2xkZXJcbiAgICBXcml0ZS5zeW5jLm1rZGlyIG5ld1Nob3RzRm9sZGVyXG4gICAgV3JpdGUuc3luYy5jb3B5RmlsZSBmaWxlLnBhdGgsIFJlYWQucGF0aCBuZXdTaG90c0ZvbGRlciwgUmVhZC5sYXN0IGZpbGUucGF0aFxuXG5cbiMgZGIvcG9ydHMtaGFuZGxlcnMvY3JlYXRlLWZpbGUtdGh1bWJuYWlsLmNvZmZlZVxuVGFrZSBbXCJMb2dcIiwgXCJNZW1vcnlcIiwgXCJQb3J0c1wiLCBcIlRodW1ibmFpbFwiXSwgKExvZywgTWVtb3J5LCBQb3J0cywgVGh1bWJuYWlsKS0+XG5cbiAgUG9ydHMub24gXCJjcmVhdGUtZmlsZS10aHVtYm5haWxcIiwgKGFzc2V0SWQsIHBhdGgsIHNpemUsIGRlc3ROYW1lKS0+XG4gICAgaWYgYXNzZXQgPSBNZW1vcnkgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgICBUaHVtYm5haWwgYXNzZXQsIHBhdGgsIHNpemUsIGRlc3ROYW1lXG5cblxuIyBkYi9zdWJzY3JpcHRpb25zL2Fzc2V0cy1mb2xkZXIuY29mZmVlXG5UYWtlIFtcIkxvYWRBc3NldHNcIiwgXCJMb2dcIiwgXCJNZW1vcnlcIiwgXCJSZWFkXCIsIFwiV3JpdGVcIl0sIChMb2FkQXNzZXRzLCBMb2csIE1lbW9yeSwgUmVhZCwgV3JpdGUpLT5cblxuICBNZW1vcnkuc3Vic2NyaWJlIFwiZGF0YUZvbGRlclwiLCB0cnVlLCAoZGF0YUZvbGRlciktPlxuICAgIHJldHVybiB1bmxlc3MgZGF0YUZvbGRlcj9cbiAgICBhc3NldHNGb2xkZXIgPSBSZWFkLnBhdGggZGF0YUZvbGRlciwgXCJBc3NldHNcIlxuICAgIGlmIE1lbW9yeS5jaGFuZ2UgXCJhc3NldHNGb2xkZXJcIiwgYXNzZXRzRm9sZGVyXG4gICAgICBMb2cgXCJhc3NldHNGb2xkZXI6ICN7YXNzZXRzRm9sZGVyfVwiXG4gICAgICBXcml0ZS5zeW5jLm1rZGlyIGFzc2V0c0ZvbGRlclxuICAgICAgTG9hZEFzc2V0cygpXG5cblxuIyBkYi9zdWJzY3JpcHRpb25zL25leHQtYXNzZXQtbnVtYmVyLmNvZmZlZVxuVGFrZSBbXCJNZW1vcnlcIl0sIChNZW1vcnkpLT5cblxuICB1cGRhdGUgPSAoKS0+XG4gICAgYXNzZXRzID0gTWVtb3J5IFwiYXNzZXRzXCJcbiAgICBsb2NhbE5hbWUgPSBNZW1vcnkgXCJsb2NhbE5hbWVcIlxuXG4gICAgcmV0dXJuIHVubGVzcyBsb2NhbE5hbWU/IGFuZCBhc3NldHM/XG5cbiAgICBoaWdoZXN0TnVtYmVyID0gMFxuXG4gICAgZm9yIGFzc2V0SWQsIGFzc2V0IG9mIGFzc2V0c1xuICAgICAgaWYgYXNzZXQuY3JlYXRvci50b0xvd2VyQ2FzZSgpIGlzIGxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGhpZ2hlc3ROdW1iZXIgPSBNYXRoLm1heCBoaWdoZXN0TnVtYmVyLCBhc3NldC5udW1iZXJcblxuICAgIE1lbW9yeSBcIm5leHRBc3NldE51bWJlclwiLCBoaWdoZXN0TnVtYmVyICsgMVxuXG4gICAgbnVsbFxuXG4gIE1lbW9yeS5zdWJzY3JpYmUgXCJsb2NhbE5hbWVcIiwgdHJ1ZSwgdXBkYXRlXG4gIE1lbW9yeS5zdWJzY3JpYmUgXCJhc3NldHNcIiwgdHJ1ZSwgdXBkYXRlXG4gIHVwZGF0ZSgpXG5cblxuIyBkYi9zdWJzY3JpcHRpb25zL3NhdmUtYXNzZXQtY2FjaGUuY29mZmVlXG5UYWtlIFtcIkFzc2V0XCIsIFwiQURTUlwiLCBcIkRCU3RhdGVcIiwgXCJMb2dcIiwgXCJNZW1vcnlcIl0sIChBc3NldCwgQURTUiwgREJTdGF0ZSwgTG9nLCBNZW1vcnkpLT5cblxuICBNZW1vcnkuc3Vic2NyaWJlIFwiYXNzZXRzXCIsIGZhbHNlLCBBRFNSIDMwMCwgMTAwMDAsIChhc3NldHMpLT5cbiAgICByZXR1cm4gdW5sZXNzIGFzc2V0cz9cbiAgICByZXR1cm4gaWYgTWVtb3J5IFwiUmVhZCBPbmx5XCJcbiAgICByZXR1cm4gaWYgTWVtb3J5IFwiUGF1c2UgQ2FjaGluZ1wiXG4gICAgTG9nLnRpbWUgXCJVcGRhdGluZyBGYXN0LUxvYWQgQXNzZXQgQ2FjaGVkXCIsICgpLT5cbiAgICAgIERCU3RhdGUgXCJhc3NldHNcIiwgT2JqZWN0Lm1hcFZhbHVlcyBhc3NldHMsIEFzc2V0LmRlaHlkcmF0ZVxuXG5cbiMgZGIvc3Vic2NyaXB0aW9ucy93YXRjaC1hc3NldHMuY29mZmVlXG5UYWtlIFtcIkFzc2V0XCIsIFwiQURTUlwiLCBcIkpvYlwiLCBcIkxvZ1wiLCBcIk1lbW9yeVwiLCBcIlJlYWRcIiwgXCJUaHVtYm5haWxzXCJdLCAoQXNzZXQsIEFEU1IsIEpvYiwgTG9nLCBNZW1vcnksIFJlYWQsIFRodW1ibmFpbHMpLT5cblxuICB3YXRjaGVyID0gbnVsbFxuXG4gIHZhbGlkRmlsZU5hbWUgPSAodiktPlxuICAgIHJldHVybiBmYWxzZSB1bmxlc3Mgdj8ubGVuZ3RoID4gMFxuICAgIHJldHVybiBmYWxzZSBpZiB2LmluZGV4T2YoXCIuXCIpIGlzIDAgIyBFeGNsdWRlIGRvdGZpbGVzXG4gICAgcmV0dXJuIHRydWUgIyBFdmVyeXRoaW5nIGVsc2UgaXMgZ29vZFxuXG4gIHRvdWNoZWRBc3NldHMgPSB7fVxuXG4gIHVwZGF0ZSA9IEFEU1IgMTAwLCAxMDAwLCAoKS0+XG4gICAgZm9yIGFzc2V0SWQgb2YgdG91Y2hlZEFzc2V0c1xuICAgICAgSm9iIDUwLCBcIldhdGNoZWQgQXNzZXQgUmVsb2FkXCIsIGFzc2V0SWRcbiAgICB0b3VjaGVkQXNzZXRzID0ge31cblxuICBKb2IuaGFuZGxlciBcIldhdGNoZWQgQXNzZXQgUmVsb2FkXCIsIChhc3NldElkKS0+XG4gICAgYXNzZXRzRm9sZGVyID0gTWVtb3J5IFwiYXNzZXRzRm9sZGVyXCJcbiAgICBwYXRoID0gUmVhZC5wYXRoIGFzc2V0c0ZvbGRlciwgYXNzZXRJZFxuICAgIGlmIGF3YWl0IFJlYWQuaXNGb2xkZXIgcGF0aFxuICAgICAgYXNzZXQgPSBNZW1vcnkuY2xvbmUgXCJhc3NldHMuI3thc3NldElkfVwiXG4gICAgICBhc3NldCA/PSBBc3NldC5uZXcgcGF0aFxuICAgICAgTG9nIFwiUmVsb2FkaW5nIEFzc2V0OiAje2Fzc2V0SWR9XCIsIGNvbG9yOiBcImhzbCgzMzMsIDUwJSwgNTAlKVwiXG4gICAgICBwcmV2TmV3U2hvdCA9IGFzc2V0Lm5ld1Nob3RcbiAgICAgIGF3YWl0IEFzc2V0LmxvYWRGaWVsZHMgYXNzZXRcbiAgICAgIGlmIGFzc2V0Lm5ld1Nob3QgaXNudCBwcmV2TmV3U2hvdFxuICAgICAgICBhd2FpdCBUaHVtYm5haWxzLnBvcHVsYXRlIGFzc2V0ICMgVGhpcyBjb3VsZCBjcmVhdGUgYW4gaW5maW5pdGUgbG9vcCBpZiBpdCBoYXMgYnVncywgc2luY2UgaXQgd3JpdGVzIGZpbGVzIHRoYXQgd2F0Y2hlciBwaWNrcyB1cCBvblxuICAgIGVsc2VcbiAgICAgIGFzc2V0ID0gbnVsbFxuICAgIE1lbW9yeSBcImFzc2V0cy4je2Fzc2V0SWR9XCIsIGFzc2V0XG5cbiAgY2hhbmdlID0gKGV2ZW50VHlwZSwgZnVsbFBhdGgpLT5cbiAgICBhc3NldHNGb2xkZXIgPSBNZW1vcnkgXCJhc3NldHNGb2xkZXJcIlxuICAgIHBhdGhXaXRoaW5Bc3NldHNGb2xkZXIgPSBmdWxsUGF0aC5yZXBsYWNlIGFzc2V0c0ZvbGRlciwgXCJcIlxuICAgIGFzc2V0SWQgPSBBcnJheS5maXJzdCBSZWFkLnNwbGl0IHBhdGhXaXRoaW5Bc3NldHNGb2xkZXJcbiAgICByZXR1cm4gdW5sZXNzIHZhbGlkRmlsZU5hbWUgYXNzZXRJZFxuICAgIHJldHVybiB1bmxlc3MgdmFsaWRGaWxlTmFtZSBBcnJheS5sYXN0IFJlYWQuc3BsaXQgZnVsbFBhdGhcbiAgICAjIExvZyBcIkRpc2sgV2F0Y2hlcjogI3twYXRoV2l0aGluQXNzZXRzRm9sZGVyfVwiLCBjb2xvcjogXCJoc2woMzMzLCA1MCUsIDUwJSlcIlxuICAgICMgV2UnbGwganVzdCByZWxvYWQgdGhlIHdob2xlIGFzc2V0LiBUaGlzIGlzIHNpbXBsZXIgdGhhbiB0cnlpbmcgdG8gdHJhY2sgZXhhY3RseSB3aGljaCBwYXRocyBoYXZlIGNoYW5nZWQsXG4gICAgIyBhbmQgdGhlIHBlcmZvcm1hbmNlIG92ZXJoZWFkIHdpbGwgYmUgZWZmZWN0aXZlbHkgaW52aXNpYmxlIChsaWtlbHkgbGVzcyB0aGFuIDFtcyBldmVuIG9uIGdpYW50IGFzc2V0cykuXG4gICAgdG91Y2hlZEFzc2V0c1thc3NldElkXSA9IHRydWVcbiAgICB1cGRhdGUoKVxuXG5cbiAgc2V0dXAgPSAoKS0+XG4gICAgd2F0Y2hlcj8uY2xvc2UoKVxuICAgIHRvdWNoZWRBc3NldHMgPSB7fSAjIENsZWFyIGFueSBjaGFuZ2VzIHF1ZXVlZCB1cCBmb3IgdGhlIGRlYm91bmNlZCB1cGRhdGUsIHNpbmNlIHRoZXknbGwgbm8gbG9uZ2VyIHJlc29sdmUgcHJvcGVybHlcbiAgICBhc3NldHNGb2xkZXIgPSBNZW1vcnkgXCJhc3NldHNGb2xkZXJcIlxuICAgIHBhdXNlZCA9IE1lbW9yeSBcIlBhdXNlIFdhdGNoaW5nXCJcbiAgICBpZiBhc3NldHNGb2xkZXI/IGFuZCBub3QgcGF1c2VkXG4gICAgICB3YXRjaGVyID0gUmVhZC53YXRjaCBhc3NldHNGb2xkZXIsIHtyZWN1cnNpdmU6IHRydWUsIHBlcnNpc3RlbnQ6IGZhbHNlfSwgY2hhbmdlXG5cblxuICBNZW1vcnkuc3Vic2NyaWJlIFwiUGF1c2UgV2F0Y2hpbmdcIiwgZmFsc2UsIHNldHVwXG4gIE1lbW9yeS5zdWJzY3JpYmUgXCJhc3NldHNGb2xkZXJcIiwgdHJ1ZSwgc2V0dXBcblxuXG4jIGRiL3N1YnNjcmlwdGlvbnMvd3JpdGUtYXNzZXRzLmNvZmZlZVxuXG5cblxuXG5cbiMgSGF2aW5nIGEgc3lzdGVtIHRoYXQgYXV0b21hdGljYWxseSByZXNwb25kcyB0byBjaGFuZ2VzIGluIGFuIGFzc2V0IGluIG1lbW9yeVxuIyBieSB3cml0aW5nIHRoZW0gdG8gZGlzayBpcyByaXNreS4gV2UgY291bGQgZW5kIHVwIGluIHNpdHVhdGlvbnMgd2hlcmUgd2F0Y2gtYXNzZXRzXG4jIG5vdGljZXMgc29tZSBjaGFuZ2VzLCB0cmlnZ2VycyBhIHJlbG9hZCwgdGhlbiB0aGUgcmVsb2FkIGhhcHBlbnMgYW5kIHRoYXQgY2hhbmdlcyB0aGUgYXNzZXQgaW4gbWVtb3J5LFxuIyB0aGVuIHdyaXRlLWFzc2V0cyBpcyB0cmlnZ2VyZWQsIHRoZW4gaXQgY2hlY2tzIHRoZSBkaXNrIGFuZCBpbiB0aGUgdGltZSBiZXR3ZWVuIHRoZSByZWxvYWRcbiMgYW5kIHdyaXRlLWFzc2V0cyBydW5uaW5nLCB0aGUgZGlzayBoYXMgY2hhbmdlZCBhZ2FpbiAoZWc6IGR1ZSB0byBkcm9wYm94KSwgc28gd3JpdGUtYXNzZXRzIGVuZHMgdXBcbiMgY2xvYmJlcmluZyBkcm9wYm94LiBUaGF0J3MgYmFkLlxuXG4jIFdlIHNob3VsZCBwcm9iYWJseSBtYWtlIGl0IHNvIHRoYXQgYW55dGhpbmcgdGhhdCBjaGFuZ2VzIHNvbWUgZGF0YSBpbnNpZGUgYW4gYXNzZXQgbmVlZHMgdG8gdGVsbFxuIyBib3RoIG1lbW9yeSBhbmQgdGhlIGRpc2sgdG8gdXBkYXRlLiBXZSB1cGRhdGUgbWVtb3J5IHNvIHRoYXQgdGhlIEdVSSBjYW4gdXBkYXRlIHJpZ2h0IGF3YXkuIFdlIGFsc29cbiMgbWFudWFsbHkgdGVsbCB0aGUgZGlzayB0byB1cGRhdGUgKHZpYSBzb21lIFBvcnRzIGNhbGwsIG9mIGNvdXJzZSkgaW5zdGVhZCBvZiByZWx5aW5nIG9uIHNvbWV0aGluZyBsaWtlXG4jIHdyaXRlLWFzc2V0cywgc28gdGhhdCB3ZSBoYXZlIGEgc2Vuc2Ugb2YgcHJvdmVuYW5jZSBmb3IgY2hhbmdlcywgYW5kIHNvIHRoYXQgd2UgZXJyIG9uIHRoZSBzaWRlIG9mXG4jIG1pc3Npbmcgd3JpdGVzIHRvIHRoZSBkaXNrICh3aGljaCBpcyBsZXNzIGJhZCkgaW5zdGVhZCBvZiB3cml0aW5nIHRoaW5ncyB3ZSBkaWRuJ3QgbWVhbiB0byB3cml0ZVxuIyAod2hpY2ggaXMgd29yc2UsIGJlY2F1c2UgaXQgY2FuIGNhdXNlIGluYWR2ZXJ0YW50IGRlbGV0aW9ucykuXG5cbiMgQWxzbywgdGhlIGRpc2sgdXBkYXRlcyBzaG91bGQgYmUgKnN5bmMqIHNvIHRoYXQgaWYgdGhlcmUncyBhIGJ1bmNoIG9mIGNoYW5nZXMgdGhhdCBuZWVkIHRvIGJlXG4jIHBlcnNpc3RlZCBpbmRpdmlkdWFsbHksIHdlIGRvbid0IGVuZCB1cCBpbnRlcmxlYXZpbmcgdGhlIHdyaXRlcyBhbmQgd2F0Y2gtYXNzZXRzIHJlYWRzLlxuIyBCeSBkb2luZyBhIGJ1bmNoIG9mIHdyaXRlcyBpbiBzeW5jLCB0aGF0J3MgYmFzaWNhbGx5IGxpa2UgcHV0dGluZyB0aGUgd3JpdGVzIGluc2lkZSBhIHRyYW5zYWN0aW9uLlxuIyAqSWYqIHdlIG5vdGljZSBwZXJmb3JtYW5jZSBpc3N1ZXMsIHdlIGNhbiBjb21lIHVwIHdpdGggc29tZXRoaW5nIG1vcmUgZWxhYm9yYXRlIHRvIG1ha2UgYXNueWMgd3JpdGluZ1xuIyB3b3JrIChlZzogYnkgcGF1c2luZyB3YXRjaC1hc3NldHMgb3Igc29tZXRoaW5nKVxuXG5cblxuXG5cblxuXG5cblxuIyBUYWtlIFtcIkFEU1JcIiwgXCJMb2dcIiwgXCJNZW1vcnlcIiwgXCJSZWFkXCIsIFwiV3JpdGVcIl0sIChBRFNSLCBMb2csIE1lbW9yeSwgUmVhZCwgV3JpdGUpLT5cbiNcbiMgICBlbmFibGVkID0gZmFsc2VcbiMgICBjaGFuZ2VkID0ge31cbiMgICBwZXJtaXR0ZWRLZXlzID0gbmFtZTogXCJOYW1lXCIsIHNob3Q6IFwiU2hvdFwiLCB0YWdzOiBcIlRhZ3NcIiMsIGZpbGVzOiBcIkZpbGVzXCJcbiNcbiMgICB1cGRhdGUgPSBBRFNSIDEsIDEsICgpLT5cbiMgICAgIGZvciBpZCwgY2hhbmdlcyBvZiBjaGFuZ2VkXG4jICAgICAgIGlmIGNoYW5nZXM/IHRoZW4gdXBkYXRlQXNzZXQgaWQsIGNoYW5nZXMgZWxzZSBkZWxldGVBc3NldCBpZFxuIyAgICAgY2hhbmdlZCA9IHt9XG4jXG4jICAgZGVsZXRlQXNzZXQgPSAoaWQpLT5cbiMgICAgIExvZyBcIkRlbGV0aW5nIGFzc2V0P1wiXG4jICAgICByZXR1cm4gdW5sZXNzIGlkPy5sZW5ndGggPiAwXG4jICAgICBhc3NldHNGb2xkZXIgPSBNZW1vcnkgXCJhc3NldHNGb2xkZXJcIlxuIyAgICAgcGF0aCA9IFJlYWQucGF0aCBhc3NldHNGb2xkZXIsIGlkXG4jICAgICBpZiBSZWFkKHBhdGgpP1xuIyAgICAgICBXcml0ZS5zeW5jLnJtIHBhdGhcbiNcbiMgICB1cGRhdGVBc3NldCA9IChpZCwgY2hhbmdlcyktPlxuIyAgICAgZm9yIGssIHYgb2YgY2hhbmdlc1xuIyAgICAgICBmb2xkZXIgPSBwZXJtaXR0ZWRLZXlzW2tdXG4jICAgICAgIGNvbnRpbnVlIHVubGVzcyBmb2xkZXIgIyBUaGUgY2hhbmdlIHdhcyBhbiBhc3NldCBwcm9wZXJ0eSB0aGF0IGRvZXNuJ3QgZ2V0IHNhdmVkXG4jICAgICAgIGlmIHY/XG4jICAgICAgICAgdXBkYXRlUHJvcGVydHkgaWQsIGZvbGRlciwgdlxuIyAgICAgICBlbHNlXG4jICAgICAgICAgZGVsZXRlUHJvcGVydHkgaWQsIGZvbGRlclxuIyAgICAgbnVsbFxuI1xuIyAgIHVwZGF0ZVByb3BlcnR5ID0gKGlkLCBmb2xkZXIsIHYpLT5cbiMgICAgIHYgPSBbdl0gdW5sZXNzIHYgaW5zdGFuY2VvZiBBcnJheVxuIyAgICAgYXNzZXRzRm9sZGVyID0gTWVtb3J5IFwiYXNzZXRzRm9sZGVyXCJcbiMgICAgIHBhdGggPSBSZWFkLnBhdGggYXNzZXRzRm9sZGVyLCBpZCwgZm9sZGVyXG4jICAgICBXcml0ZS5zeW5jLmFycmF5IHBhdGgsIHZcbiNcbiMgICBkZWxldGVQcm9wZXJ0eSA9IChpZCwgZm9sZGVyKS0+XG4jICAgICBhc3NldHNGb2xkZXIgPSBNZW1vcnkgXCJhc3NldHNGb2xkZXJcIlxuIyAgICAgcGF0aCA9IFJlYWQucGF0aCBhc3NldHNGb2xkZXIsIGlkLCBmb2xkZXJcbiMgICAgIGN1cnJlbnQgPSBSZWFkIHBhdGhcbiMgICAgIHJldHVybiB1bmxlc3MgY3VycmVudD8ubGVuZ3RoID4gMFxuIyAgICAgcGF0aCA9IFJlYWQucGF0aCBwYXRoLCBjdXJyZW50WzBdIGlmIGN1cnJlbnQubGVuZ3RoIGlzIDFcbiMgICAgIFdyaXRlLnN5bmMucm0gcGF0aFxuI1xuIyAgIE1lbW9yeS5zdWJzY3JpYmUgXCJhc3NldHNcIiwgZmFsc2UsIChhc3NldHMsIGNoYW5nZWRBc3NldHMpLT5cbiMgICAgIHJldHVybiB1bmxlc3MgZW5hYmxlZCAjIFBlcnNpc3RpbmcgY2hhbmdlcyB3aWxsIGJlIHBhdXNlZCBkdXJpbmcgYmlnIGxvYWRzXG4jICAgICBjb25zb2xlLmxvZyBcIldSSVRJTkdcIiwgT2JqZWN0LmNsb25lIGNoYW5nZWRBc3NldHNcbiMgICAgIGNoYW5nZWQgPSBPYmplY3QubWVyZ2UgY2hhbmdlZCwgY2hhbmdlZEFzc2V0c1xuIyAgICAgdXBkYXRlKClcbiNcbiMgICBNYWtlIFwiV3JpdGVBc3NldHNcIiwgV3JpdGVBc3NldHMgPVxuIyAgICAgZW5hYmxlOiAoZW5hYmxlID0gdHJ1ZSktPiBlbmFibGVkID0gZW5hYmxlXG5cblxuIyBkYi90aHVtYm5haWxzL2pvYi1yZWJ1aWxkLWFzc2V0LXRodW1ibmFpbHMuY29mZmVlXG5UYWtlIFtcIkpvYlwiLCBcIkxvZ1wiLCBcIlBhdGhzXCIsIFwiUmVhZFwiLCBcIlRodW1ibmFpbFwiLCBcIldyaXRlXCJdLCAoSm9iLCBMb2csIFBhdGhzLCBSZWFkLCBUaHVtYm5haWwsIFdyaXRlKS0+XG5cbiAgSm9iLmhhbmRsZXIgXCJSZWJ1aWxkIEFzc2V0IFRodW1ibmFpbHNcIiwgKGFzc2V0LCBvdmVyd3JpdGUgPSBmYWxzZSktPlxuICAgIG1zZyA9IFwiVGh1bWJuYWlscyBmb3IgI3thc3NldC5pZH0g4oCUXCJcblxuICAgIGlmIG5vdCBvdmVyd3JpdGVcbiAgICAgIGhhczEyOCA9IFJlYWQuc3luYy5leGlzdHMgUGF0aHMudGh1bWJuYWlsIGFzc2V0LCBcIjEyOC5qcGdcIlxuICAgICAgaGFzNTEyID0gUmVhZC5zeW5jLmV4aXN0cyBQYXRocy50aHVtYm5haWwgYXNzZXQsIFwiNTEyLmpwZ1wiXG4gICAgICBpZiBoYXMxMjggYW5kIGhhczUxMlxuICAgICAgICBMb2cgXCIje21zZ30gYWxyZWFkeSBleGlzdCA6KVwiLCBjb2xvcjogXCJoc2woMzMwLCA1NSUsIDUwJSlcIiAjIHZpb2xldFxuICAgICAgICByZXR1cm5cblxuICAgIGlmIGFzc2V0Lm5ld1Nob3Q/XG4gICAgICBwYXRoID0gUGF0aHMubmV3U2hvdCBhc3NldFxuICAgICAgaGFzMTI4ID0gYXdhaXQgVGh1bWJuYWlsIGFzc2V0LCBwYXRoLCAxMjhcbiAgICAgIGhhczUxMiA9IGF3YWl0IFRodW1ibmFpbCBhc3NldCwgcGF0aCwgNTEyXG4gICAgICBMb2cgXCIje21zZ30gdXNpbmcgbmV3IHNob3QgPDNcIiwgXCJoc2woMjIwLCA1MCUsIDUwJSlcIiAjIGJsdWVcbiAgICAgIHJldHVyblxuXG4gICAgIyBObyBzcGVjaWZpZWQgc2hvdCwgYXR0ZW1wdCB0byB1c2UgYSByYW5kb20gZmlsZS5cbiAgICBpZiBhc3NldC5maWxlcz8uY291bnQgPiAwXG4gICAgICBmb3IgZmlsZSBpbiBhc3NldC5maWxlcy5jaGlsZHJlblxuICAgICAgICBMb2cgXCIje21zZ30gdHJ5aW5nIGZpbGVzLi4uICN7ZmlsZS5uYW1lfVwiXG4gICAgICAgIGlmIGF3YWl0IFRodW1ibmFpbCBhc3NldCwgZmlsZS5wYXRoLCAxMjhcbiAgICAgICAgICBpZiBhd2FpdCBUaHVtYm5haWwgYXNzZXQsIGZpbGUucGF0aCwgNTEyXG4gICAgICAgICAgICBMb2cgXCIje21zZ30gdXNlZCBmaWxlICN7ZmlsZS5uYW1lfSA6fVwiLCBjb2xvcjogXCJoc2woMTgwLCAxMDAlLCAyOSUpXCIgIyB0ZWFsXG4gICAgICAgICAgICByZXR1cm4gY2FwdHVyZU5ld1Nob3QgYXNzZXQsIGZpbGUucGF0aCAjIHN1Y2Nlc3NcblxuICAgIExvZyBcIiN7bXNnfSBubyBkaWNlIDooXCIsIGNvbG9yOiBcImhzbCgyNSwgMTAwJSwgNTklKVwiICMgb3JhbmdlXG4gICAgbnVsbFxuXG5cbiAgY2FwdHVyZU5ld1Nob3QgPSAoYXNzZXQsIHNob3RGaWxlKS0+XG4gICAgIyBXZSB3YW50IHRvIHNob3cgd2hpY2ggZmlsZSB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgdGh1bWJuYWlsLlxuICAgICMgVGhlIHNpbXBsZXN0IHRoaW5nIGlzIGp1c3QgdG8gbWFrZSBhIGNvcHkgb2YgdGhlIHNvdXJjZSBmaWxlIGFuZCBzYXZlIGl0LlxuICAgICMgVGhhdCB3YXksIHdlIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgd2hhdCBoYXBwZW5zIGlmIHRoZSBzb3VyY2UgZmlsZSBpcyByZW5hbWVkXG4gICAgIyBvciBkZWxldGVkIG9yIHdoYXRldmVyIOKAlCB3ZSBoYXZlIG91ciBjb3B5IG9mIHRoZSBzaG90LCBhbmQgdGhlIHVzZXIgY2FuIHNlZSB3aGF0XG4gICAgIyBmaWxlIHdhcyB1c2VkIChiZWNhdXNlIHRoZSBmaWxlbmFtZSB3aWxsIGJlIHRoZXJlIHRvbyDigJQgZ29vZCBlbm91Z2gpIGFuZCBpZiB0aGVcbiAgICAjIHVzZXIgZGVsZXRlZCB0aGF0IG9yaWdpbmFsIGZpbGUgYW5kIHdhbnRzIHRoZSBzaG90IHRvIGNoYW5nZSwgdGhleSBjYW4ganVzdCBjaGFuZ2VcbiAgICAjIHRoZSBzaG90LCBnb29kIGVub3VnaC5cbiAgICBuZXdTaG90c0ZvbGRlciA9IFBhdGhzLm5ld1Nob3RzIGFzc2V0XG4gICAgV3JpdGUuc3luYy5ta2RpciBuZXdTaG90c0ZvbGRlclxuICAgIGZvciBmaWxlIGluIFJlYWQgbmV3U2hvdHNGb2xkZXJcbiAgICAgIFdyaXRlLnN5bmMucm0gZmlsZVxuICAgIFdyaXRlLnN5bmMuY29weUZpbGUgc2hvdEZpbGUsIFJlYWQucGF0aCBuZXdTaG90c0ZvbGRlciwgUmVhZC5sYXN0IHNob3RGaWxlXG5cblxuIyBkYi90aHVtYm5haWxzL3RodW1ibmFpbC5jb2ZmZWVcblRha2UgW1wiRW52XCIsIFwiSVBDXCIsIFwiSm9iXCIsIFwiTG9nXCIsIFwiTWVtb3J5XCIsIFwiUGF0aHNcIiwgXCJSZWFkXCIsIFwiV3JpdGVcIl0sIChFbnYsIElQQywgSm9iLCBMb2csIE1lbW9yeSwgUGF0aHMsIFJlYWQsIFdyaXRlKS0+XG5cbiAgcHJvbWlzZXMgPSB7fVxuXG4gIE1ha2UuYXN5bmMgXCJUaHVtYm5haWxcIiwgVGh1bWJuYWlsID0gKGFzc2V0LCBzb3VyY2VQYXRoLCBzaXplLCBkZXN0TmFtZSktPlxuICAgIGV4dCA9IEFycmF5Lmxhc3Qoc291cmNlUGF0aC5zcGxpdCBcIi5cIikudG9Mb3dlckNhc2UoKVxuXG4gICAgIyBXZSdyZSBnb2luZyB0byBiZSBhc2tlZCB0byBwcmV2aWV3IGEgZmV3IGtub3duIGZvcm1hdHMgcHJldHR5IG9mdGVuLFxuICAgICMgYW5kIHdlIGRvbid0IHlldCBoYXZlIGFueSB3YXkgdG8gcHJldmlldyB0aGVtLiBUaGUgY2FsbGVyIHNob3VsZCB1c2UgYW4gaWNvbiBpbnN0ZWFkLlxuICAgIHJldHVybiBpZiBQYXRocy5leHQuaWNvbltleHRdXG5cbiAgICBhc3NldHNGb2xkZXIgPSBNZW1vcnkgXCJhc3NldHNGb2xkZXJcIlxuICAgIHN1YnBhdGggPSBzb3VyY2VQYXRoLnJlcGxhY2UgYXNzZXRzRm9sZGVyLCBcIlwiXG5cbiAgICBkZXN0TmFtZSA/PSBcIiN7c2l6ZX0uanBnXCJcblxuICAgIGRlc3RQYXRoID0gUGF0aHMudGh1bWJuYWlsIGFzc2V0LCBkZXN0TmFtZVxuXG4gICAgV3JpdGUuc3luYy5ta2RpciBQYXRocy50aHVtYm5haWxzIGFzc2V0XG5cbiAgICBoYW5kbGVyID0gaWYgRW52LmlzTWFjIGFuZCBQYXRocy5leHQuc2lwc1tleHRdPyB0aGVuIFwiU2lwc1RodW1ibmFpbFwiIGVsc2UgXCJOYXRpdmVUaHVtYm5haWxcIlxuICAgIEpvYiAyLCBoYW5kbGVyLCBzb3VyY2VQYXRoLCBkZXN0UGF0aCwgc2l6ZSwgc3VicGF0aFxuXG5cbiAgY2hpbGRQcm9jZXNzID0gbnVsbFxuXG4gIEpvYi5oYW5kbGVyIFwiU2lwc1RodW1ibmFpbFwiLCAoc291cmNlLCBkZXN0LCBzaXplLCBzdWJwYXRoKS0+XG4gICAgbmV3IFByb21pc2UgKHJlc29sdmUpLT5cbiAgICAgIGNoaWxkUHJvY2VzcyA/PSByZXF1aXJlIFwiY2hpbGRfcHJvY2Vzc1wiXG4gICAgICBjaGlsZFByb2Nlc3MuZXhlYyBcInNpcHMgLXMgZm9ybWF0IGpwZWcgLXMgZm9ybWF0T3B0aW9ucyA5MSAtWiAje3NpemV9IFxcXCIje3NvdXJjZX1cXFwiIC0tb3V0IFxcXCIje2Rlc3R9XFxcIlwiLCAoZXJyKS0+XG4gICAgICAgIGlmIGVycj9cbiAgICAgICAgICBoYW5kbGVFcnIgc3VicGF0aCwgZXJyXG4gICAgICAgICAgcmVzb2x2ZSBudWxsXG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXNvbHZlIGRlc3RcblxuXG4gIG5hdGl2ZUltYWdlID0gbnVsbFxuXG4gIEpvYi5oYW5kbGVyIFwiTmF0aXZlVGh1bWJuYWlsXCIsIChzb3VyY2UsIGRlc3QsIHNpemUsIHN1YnBhdGgpLT5cbiAgICBuZXcgUHJvbWlzZSAocmVzb2x2ZSktPlxuICAgICAgdHJ5XG4gICAgICAgIG5hdGl2ZUltYWdlID89IHJlcXVpcmUoXCJlbGVjdHJvblwiKS5uYXRpdmVJbWFnZVxuICAgICAgICBpbWFnZSA9IGF3YWl0IG5hdGl2ZUltYWdlLmNyZWF0ZVRodW1ibmFpbEZyb21QYXRoIHNvdXJjZSwge3dpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemV9XG4gICAgICAgIGJ1ZiA9IGltYWdlLnRvSlBFRyA5MVxuICAgICAgICBXcml0ZS5zeW5jLmZpbGUgZGVzdCwgYnVmICMgVE9ETzogU2hvdWxkIGJlIGFzeW5jXG4gICAgICAgIHJlc29sdmUgZGVzdFxuICAgICAgY2F0Y2ggZXJyXG4gICAgICAgIGhhbmRsZUVyciBzdWJwYXRoLCBlcnJcbiAgICAgICAgcmVzb2x2ZSBudWxsXG5cblxuICBlcnJDb3VudCA9IDBcbiAgaW1wb3J0YW50RXJyb3JNZXNzYWdlcyA9IFtcbiAgICAjIEFkZCBtZXNzYWdlcyB0byB0aGlzIGxpc3QgaWYgd2Ugd2FudCB0byBhbGVydCB0aGUgdXNlciBhYm91dCB0aGVtLlxuICAgICMgSWYgb25lIG9mIHRoZXNlIG1lc3NhZ2VzIG9jY3VycywgdGhhdCB1c3VhbGx5IG1lYW5zIGVpdGhlciB0aGUgZmlsZSBpcyBjb3JydXB0XG4gICAgIyAoc28gdGhlIHVzZXIgb3VnaHQgdG8gaW52ZXN0aWFnZSBhbmQgZml4IHRoZSBmaWxlIGlmIHBvc3NpYmxlKSwgb3IgdGhlIGZpbGVcbiAgICAjIGlzIGluIGEgZm9ybWF0IHRoYXQgd2UgY2FuJ3QgZ2VuZXJhdGUgYSB0aHVtYm5haWwgZm9yIChpbiB3aGljaCBjYXNlIHRoZSBmaWxlXG4gICAgIyBleHRlbnNpb24gc2hvdWxkIGJlIGFkZGVkIHRvIFBhdGhzLmV4dC5pY29uKVxuICAgIFwiVW5hYmxlIHRvIHJlbmRlciBkZXN0aW5hdGlvbiBpbWFnZVwiXG4gICAgXCJDYW5ub3QgZXh0cmFjdCBpbWFnZSBmcm9tIGZpbGVcIlxuICAgIFwiVW5hYmxlIHRvIHJldHJpZXZlIHRodW1ibmFpbCBwcmV2aWV3IGltYWdlIGZvciB0aGUgZ2l2ZW4gcGF0aFwiXG4gIF1cbiAgdW5pbXBvcnRhbnRFcnJvck1lc3NhZ2VzID0gW1xuICAgICMgQWRkIG1lc3NhZ2VzIHRvIHRoaXMgbGlzdCBpZiB3ZSBkb24ndCB3YW50IHRvIGJvdGhlciBhbGVydGluZyB0aGUgdXNlciBhYm91dCB0aGVtXG4gIF1cblxuICBoYW5kbGVFcnIgPSAoc3VicGF0aCwgZXJyKS0+XG4gICAgTG9nLmVyciBcIkVycm9yIGdlbmVyYXRpbmcgdGh1bWJuYWlsIGZvciAje3N1YnBhdGh9OlxcbiAje2Vyci50b1N0cmluZygpfVwiXG5cbiAgICBmb3IgbWVzc2FnZSBpbiB1bmltcG9ydGFudEVycm9yTWVzc2FnZXNcbiAgICAgIGlmIC0xIGlzbnQgZXJyLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmRleE9mIG1lc3NhZ2UudG9Mb3dlckNhc2UoKVxuICAgICAgICByZXR1cm5cblxuICAgIHJldHVybiBpZiArK2VyckNvdW50ID4gM1xuXG4gICAgZm9yIG1lc3NhZ2UgaW4gaW1wb3J0YW50RXJyb3JNZXNzYWdlc1xuICAgICAgaWYgLTEgaXNudCBlcnIubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YgbWVzc2FnZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGFsZXJ0ID0gbWVzc2FnZVxuICAgICAgICBicmVha1xuXG4gICAgYWxlcnQgPz0gZXJyLm1lc3NhZ2VcblxuICAgIElQQy5zZW5kIFwiYWxlcnRcIiwgbWVzc2FnZTogXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBnZW5lcmF0aW5nIGEgdGh1bWJuYWlsLiBQbGVhc2UgY2FwdHVyZSBhIHNjcmVlbnNob3Qgb2YgdGhpcyBwb3B1cCBhbmQgc2VuZCBpdCB0byBJdmFuLiBcXG5cXG4gVGhlIHNvdXJjZSBmaWxlOiAje3N1YnBhdGh9IFxcblxcbiBUaGUgZXJyb3I6ICN7YWxlcnR9XCJcblxuICAgIGlmIGVyckNvdW50IGlzIDNcbiAgICAgIElQQy5zZW5kIFwiYWxlcnRcIiwgbWVzc2FnZTogXCJJdCBzZWVtcyBsaWtlIHRoaXMgaXMgaGFwcGVuaW5nIGEgbG90LCBzbyB3ZSB3b24ndCB0ZWxsIHlvdSBhYm91dCBhbnkgbW9yZSBmYWlsdXJlcy4gVG8gc2VlIHRoZW0gYWxsLCBvcGVuIHRoZSBEZWJ1ZyBMb2cuXCJcblxuXG4jIGRiL3RodW1ibmFpbHMvdGh1bWJuYWlscy5jb2ZmZWVcblRha2UgW1wiRmlsZVRyZWVcIiwgXCJKb2JcIiwgXCJMb2dcIiwgXCJNZW1vcnlcIiwgXCJQYXRoc1wiLCBcIlJlYWRcIiwgXCJUaHVtYm5haWxcIiwgXCJXcml0ZVwiXSwgKEZpbGVUcmVlLCBKb2IsIExvZywgTWVtb3J5LCBQYXRocywgUmVhZCwgVGh1bWJuYWlsLCBXcml0ZSktPlxuXG4gIE1ha2UgXCJUaHVtYm5haWxzXCIsIFRodW1ibmFpbHMgPVxuICAgIHBvcHVsYXRlOiAoYXNzZXQpLT5cbiAgICAgIHJldHVybiB1bmxlc3MgYXNzZXQ/XG5cbiAgICAgIGF3YWl0IEpvYiAxLCBcIlJlYnVpbGQgQXNzZXQgVGh1bWJuYWlsc1wiLCBhc3NldCwgdHJ1ZVxuXG4gICAgICBuZWVkZWQgPSB7fVxuICAgICAgZm9yIGZpbGUgaW4gRmlsZVRyZWUuZmxhdCBhc3NldC5maWxlc1xuICAgICAgICB0aHVtYiA9IFBhdGhzLnRodW1ibmFpbE5hbWUgZmlsZSwgMjU2XG4gICAgICAgIG5lZWRlZFt0aHVtYl0gPSBmaWxlXG5cbiAgICAgIGlmIGV4aXN0aW5nID0gUmVhZCBQYXRocy50aHVtYm5haWxzIGFzc2V0XG4gICAgICAgIGV4aXN0aW5nID0gQXJyYXkubWFwVG9PYmplY3QgZXhpc3RpbmdcbiAgICAgICAgZGVsZXRlIGV4aXN0aW5nW1wiMTI4LmpwZ1wiXSAjIFdlJ3JlIG9ubHkgaW50ZXJlc3RlZCBpbiB0aHVtYnMgZm9yIGZpbGVzLCBub3QgdGhlIGFzc2V0IGl0c2VsZi5cbiAgICAgICAgZGVsZXRlIGV4aXN0aW5nW1wiNTEyLmpwZ1wiXVxuICAgICAgICB0b0NyZWF0ZSA9IE9iamVjdC5zdWJ0cmFjdEtleXMgZXhpc3RpbmcsIG5lZWRlZFxuICAgICAgICB0b0RlbGV0ZSA9IE9iamVjdC5zdWJ0cmFjdEtleXMgbmVlZGVkLCBleGlzdGluZ1xuICAgICAgZWxzZVxuICAgICAgICB0b0NyZWF0ZSA9IG5lZWRlZFxuICAgICAgICB0b0RlbGV0ZSA9IHt9XG5cbiAgICAgIGZvciB0aHVtYiBvZiB0b0RlbGV0ZVxuICAgICAgICBXcml0ZS5zeW5jLnJtIFBhdGhzLnRodW1ibmFpbCBhc3NldCwgdGh1bWJcblxuICAgICAgcHJvbWlzZXMgPSBmb3IgdGh1bWIsIGZpbGUgb2YgdG9DcmVhdGUgd2hlbiBmaWxlLmV4dD8gYW5kIG5vdCBQYXRocy5leHQuaWNvbltmaWxlLmV4dF1cbiAgICAgICAgVGh1bWJuYWlsIGFzc2V0LCBmaWxlLnBhdGgsIDI1NiwgdGh1bWJcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwgcHJvbWlzZXNcbiJdfQ==
//# sourceURL=/Users/admin/Work/hyperzine/temp/db.coffee